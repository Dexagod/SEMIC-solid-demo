{"version":3,"sources":["css/components/profilecard.module.css","assets/solid-emblem.svg","assets/idlab.png","css/components/marriageview.module.css","util/FileUtil.js","util/NameSpaces.js","util/notifications.js","hooks/useNotifications.js","Components/NotificationsViewerComponent.js","hooks/useContracts.js","Components/InProgressViewerComponent.js","util/QueryUtil.js","util/MarriageController.js","Components/CertificatesViewerComponent.js","hooks/useProfile.js","Components/ProfileViewerComponent.js","Components/ProfileEditorComponent.js","Components/ProfileCardComponent.js","Components/ProfileCardSelectorComponent.js","Components/MarriageRequestComponent.js","Components/RequestsViewerComponent.js","Components/HelpComponent.js","Components/MarriageViewComponent.js","Components/OfficialComponent.js","Components/LoginComponent.js","Components/SubmissionViewComponent.js","util/generatepdf.js","Components/CertificateViewComponent.js","util/Util.js","Components/MainScreenComponent.js","Components/MiniDrawer.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","auth","require","ORIGIN","getFile","URI","a","fetch","method","headers","Origin","patchFile","body","putFile","postFile","deleteFile","aliases","acl","arg","as","cal","cert","contact","dc","dct","doap","foaf","http","httph","icalTZ","ldp","link","log","meeting","mo","owl","pad","patch","prov","qu","trip","rdf","rdfs","rss","sched","schema","sioc","solid","space","stat","tab","tabont","ui","vcard","wf","xsd","cco","dbo","ex","demo","ns","namedNode","u","namespaces","alias","expansion","localName","vocab","data","default","notify","notificationBody","subjects","subject","getInbox","inbox","console","error","value","checkNewNotifications","webId","currentNotifications","getStore","store","getQuads","length","getNotificationMetadata","notificationsMetadata","map","quad","id","object","metadata","modified","getNotification","notificationId","getRecursiveActivity","getStoreEntry","type","actor","target","summary","termType","predicate","p","useNotifications","useState","notifications","setNotifications","useEffect","updateNotifications","interval","setInterval","clearInterval","fetchNotifications","updatedNotifications","notificationList","notification","getNotificationTypes","types","push","NotificationsViewerComponent","props","sort","b","Date","className","Row","key","Col","md","NotificationCard","split","href","Value","src","Button","onClick","viewmarriage","viewsubmission","getButton","marriageId","getContractData","contract","view","availableViews","marriageview","args","setview","submissionId","submissionview","useContracts","contracts","setContracts","clearCache","contractId","fetchInProgress","then","InProgressViewerComponent","filter","e","status","viewMarriage","DataFactory","literal","variable","createDeleteInsertProfileDataQuery","oldprofile","newprofile","deleteClause","insertClause","name","bdate","location","cstatus","quadListToTTL","deleteClauseString","insertClauseString","whereClauseString","createCertifiedProposalPatch","proposalId","quadList","createContractStatusPatch","newStatus","statusvar","createCertifiedByPatch","certificateId","Promise","resolve","reject","writer","Writer","addQuads","end","result","blankNode","createMarriageProposal","proposalData","storageLocation","endsWith","getProposalName","Error","createMarriagePropsalBody","postbody","createMarriageProfilePatch","patchbody","contactId","createMarriageContractInvitation","deleteMarriageProposal","deleteMarriageProfilePatch","acceptProposal","authorId","createAcceptanceNotification","submitProposal","officialId","createMarriageContractSubmissionNotification","updateMarriageContractStatus","createMarriageCertificateBody","certificateURI","getCertificateName","notificationTargets","spouse","concat","witness","createCertificateProposalConfirmationNotification","createCertificateProposalRejectionNotification","setProposalValidatedBy","patchBody","marriageContractId","targets","join","toISOString","s","encodeURIComponent","creatorId","CertificatesViewerComponent","certifiedContacts","setCertifiedContracts","certificateview","updateProposals","submittedContracts","certificationNotices","contractNotifications","n","alreadyCertifiedContracts","c","showCertificateViewer","getProfile","profiledata","getPromiseValueOrUndefined","useProfile","profile","setProfile","mounted","catch","profileProps","ProfileViewerComponent","Object","keys","property","profileeditor","ProfileEditorComponent","useForm","defaultValues","register","handleSubmit","control","reset","onSubmit","properties","label","controller","Select","MenuItem","defaultValue","prop","ref","required","ProfileCardComponent","styles","container","profilecardrow","sm","ProfileCardSelectorComponent","person","webIdInput","setWebIdInput","isProfile","setvalue","isOfAge","DOB","today","birthDate","age","getFullYear","m","getMonth","getDate","getAge","warnings","isComplete","undefined","getWarnings","Input","onChange","event","style","color","MarriageRequestComponent","parsedURI","parseURL","scheme","netLoc","setStorageLocation","state","setState","validateSubmission","running","window","alert","stateCopy","slice","obj","addWitness","possibleRequests","typelabel","action","disabled","RequestsViewerComponent","request","marriagerequest","HelpComponent","login","icon","requests","official","INVITATIONACCEPTED","INVITATIONREFUSED","MarriageViewComponent","allcontacts","contacts","setContacts","getContactStatus","contactWebId","acceptedEvent","accepted","refusedEvent","refused","updateContacts","contactsToUpdate","creator","resetView","updatedContacts","getContactButton","accept","refuse","pending","refreshContacts","showContactStatus","submitMarriageProposal","delete","OfficialComponent","submissions","setSubmissions","filterCertifiedSubmissions","certifiedProposals","indexOf","certifiedProposalId","filterSubmissions","submissionContractId","submission","LoginComponent","LoginButton","popup","SubmissionViewComponent","certifyProposal","certificates","rejectProposal","blobStream","proposal","certificate","getPersonData","certified_by","all","spouses","witnesses","weddingDate","certification_date","doc","PDFDocument","stream","pipe","fontSize","text","align","moveDown","indent","moveUp","toDateString","toLocaleTimeString","on","toBlob","url","toBlobURL","open","CertificateViewComponent","setstate","getCertificateData","fetchData","toLocaleString","generateCertificatePDF","promise","generation","help","activeDrawerItemMapping","response","responseData","N3","baseIRI","parse","getQuadObjVal","quads","getQuadObjList","datastore","certifies","comment","activity","viewsWithoutWebId","MainScreenComponent","selectedView","setSelectedView","showLoadingOrView","useStyles","makeStyles","theme","root","display","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","spacing","breakpoints","up","toolbar","alignItems","justifyContent","padding","mixins","content","flexGrow","MiniDrawer","withWebId","classes","useTheme","React","setOpen","defaultview","isActive","item","sidebarComponents","sideBarItems","itemName","Divider","ListItem","button","ListItemIcon","ListItemText","primary","getSidebarComponent","topbarComponents","topBarItems","index","IconButton","aria-label","Badge","badgeContent","getTopBarComponent","CssBaseline","AppBar","position","clsx","Toolbar","edge","Typography","variant","noWrap","Navbar","Brand","alt","solidlogo","idlablogo","height","hidelogout","LogoutButton","Drawer","paper","direction","List","App","LoggedIn","LoggedOut","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"iIACAA,EAAOC,QAAU,CAAC,UAAY,+BAA+B,cAAgB,mCAAmC,WAAa,gCAAgC,SAAW,8BAA8B,aAAe,kCAAkC,eAAiB,sC,oBCDxQD,EAAOC,QAAU,IAA0B,0C,kBCA3CD,EAAOC,QAAU,04U,iPCCjBD,EAAOC,QAAU,CAAC,eAAiB,qCAAqC,iBAAmB,uCAAuC,OAAS,6BAA6B,OAAS,6BAA6B,OAAS,+B,uqBCDjNC,EAAOC,EAAQ,IACfC,EAAS,wBAER,SAAeC,EAAtB,kC,4CAAO,WAAuBC,GAAvB,SAAAC,EAAA,sEAEQL,EAAKM,MAAMF,EAAK,CAC3BG,OAAQ,MACRC,QAAS,CACPC,OAAQP,EACR,eAAgB,iBANf,oF,sBAWA,SAAeQ,EAAtB,oC,4CAAO,WAAyBN,EAAKO,GAA9B,SAAAN,EAAA,sEAEQL,EAAKM,MAAMF,EAAK,CAC3BG,OAAQ,QACRC,QAAS,CACPC,OAAQP,EACR,eAAgB,6BAElBS,KAAMA,IARH,oF,sBAaA,SAAeC,EAAtB,oC,4CAAO,WAAuBR,EAAKO,GAA5B,SAAAN,EAAA,sEAEQL,EAAKM,MAAMF,EAAK,CAC3BG,OAAQ,MACRC,QAAS,CACPC,OAAQP,EACR,eAAgB,eAElBS,KAAMA,IARH,oF,sBAcA,SAAeE,EAAtB,oC,4CAAO,WAAwBT,EAAKO,GAA7B,SAAAN,EAAA,sEAEQL,EAAKM,MAAMF,EAAK,CAC3BG,OAAQ,OACRC,QAAS,CACPC,OAAQP,EACR,eAAgB,eAElBS,KAAMA,IARH,oF,sBAaA,SAAeG,EAAtB,kC,4CAAO,WAA0BV,GAA1B,SAAAC,EAAA,sEAEQL,EAAKM,MAAMF,EAAK,CAC3BG,OAAQ,SACRC,QAAS,CACPC,OAAQP,KALP,oF,sBCvCP,IAAMa,EAAO,aACXC,IAAK,iCACLC,IAAK,gCACLC,GAAI,yCACJC,IAAK,sCACLC,KAAM,kCACNC,QAAS,8CACTC,GAAI,mCACJC,IAAK,4BACLC,KAAM,gCACNC,KAAM,6BACNC,KAAM,mCACNC,MAAO,oCACPC,OAAQ,yCACRC,IAAK,4BACLC,KAAM,mCACNC,IAAK,sCACLC,QAAS,oCACTC,GAAI,+BACJC,IAAK,iCACLC,IAAK,gCACLC,MAAO,kCACPC,KAAM,6BACNC,GAAI,0CACJC,KAAM,iCACNC,IAAK,8CACLC,KAAM,wCACNC,IAAK,2BACLC,MAAO,qCACPC,OAAQ,qBACRC,KAAM,2BACNC,MAAO,oCACPC,MAAO,kCACPC,KAAM,mCACNC,IAAK,mCACLC,OAAQ,mCACRC,GAAI,2BACJC,MAAO,mCACPC,GAAI,qCACJC,IAAK,oCACLC,IAAK,0DAELC,IAAM,+BACNC,GAAK,sBACLC,KAAM,6BA5CK,KA6CP,0CAmBSC,EAbD,WAAwC,IAA9BnB,EAA6B,uDAAvB,CAAEoB,UAAW,SAAAC,GAAC,OAAIA,IACxCC,EAAa,GADgC,WAExCC,GACT,IAAMC,EAAYjD,EAAQgD,GAC1BD,EAAWC,GAAS,WAA2B,IAAjBE,EAAgB,uDAAJ,GACxC,OAAOzB,EAAIoB,UAAUI,EAAYC,KAHrC,IAAK,IAAMF,KAAShD,EAAU,EAAnBgD,GAOX,OAAOD,EAGEI,GC3EMC,EAASlE,EAAQ,IAA1BmE,QAEO,SAAeC,GAA9B,qC,8CAAe,WAAsBC,EAAkBC,GAAxC,qBAAAlE,EAAA,oEACOkE,GADP,gEACJC,EADI,iBAESC,GAASD,GAFlB,QAELE,EAFK,SAGA7D,EAAS6D,EAAOJ,GAHhB,uM,+BAOAG,G,iFAAf,WAAwBD,GAAxB,eAAAnE,EAAA,6DACEsE,QAAQ5C,IAAI,gBAAiByC,GAD/B,SAEsBL,EAAKK,GAASb,EAAG9B,IAAI,UAF3C,cAEQ6C,EAFR,SAGaC,QAAQC,MAAMJ,EAAU,+BAHrC,kBAISE,GAASA,EAAMG,OAJxB,4C,sBAOO,SAAeC,GAAtB,qC,8CAAO,WAAqCC,EAAOC,GAA5C,iBAAA3E,EAAA,yDACD2E,EADC,0CAC4B,GAD5B,uBAEeP,GAASM,GAFxB,UAECL,EAFD,iDAGa,GAHb,uBAIeO,GAASP,GAJxB,cAICQ,EAJD,iBAK6BA,EAAMC,SAAST,EAAOf,EAAG9B,IAAI,aAL1D,kBAMqBuD,SAAWJ,EAAqBI,OANrD,2CAMoE,GANpE,kCAOE,GAPF,6C,sBAUA,SAAeC,GAAtB,mC,8CAAO,WAAuCN,GAAvC,2BAAA1E,EAAA,sEACeoE,GAASM,GADxB,UACCL,EADD,gDAEa,IAFb,uBAGeO,GAASP,GAHxB,cAGCQ,EAHD,iBAI6BA,EAAMC,SAAST,EAAOf,EAAG9B,IAAI,aAJ1D,QAKLyD,GADIA,EAJC,QAKyCC,KAAI,SAAAC,GAAU,MAAS,CAACC,GAAID,EAAKE,OAAOb,UALjF,cAMgBS,GANhB,kEAMIK,EANJ,kBAOoBT,EAAMC,SAASQ,EAASF,GAAI9B,EAAGpC,IAAI,YAAa,MAPpE,QAOGqE,EAPH,OAQHD,EAAQ,SAAeC,GAAYA,EAAS,GAAGF,OAAOb,MARnD,0KAUES,GAVF,kE,sBAaA,SAAeO,GAAtB,mC,8CAAO,WAA+BC,GAA/B,eAAAzF,EAAA,sEACe4E,GAASa,GADxB,cACCZ,EADD,gBAEQa,GAAqBb,EAAOY,GAFpC,oF,+BAKQC,G,mFAAf,WAAoCb,EAAOO,GAA3C,uBAAApF,EAAA,sEACmB2F,GAAcd,EAAOO,EAAI9B,EAAGnB,IAAI,SADnD,cACMyD,EADN,gBAEoBD,GAAcd,EAAOO,EAAI9B,EAAGzC,GAAG,UAFnD,cAEMgF,EAFN,gBAGqBF,GAAcd,EAAOO,EAAI9B,EAAGzC,GAAG,WAHpD,cAGMwE,EAHN,iBAIqBM,GAAcd,EAAOO,EAAI9B,EAAGzC,GAAG,WAJpD,eAIMiF,EAJN,iBAKsBH,GAAcd,EAAOO,EAAI9B,EAAGzC,GAAG,YALrD,WAKMkF,EALN,OAMEH,EAAOA,GAAQA,EAAKpB,MACpBuB,EAAUA,GAAWA,EAAQvB,OACrBqB,GAA2B,aAAlBA,EAAMG,SARzB,kCAQyDN,GAAqBb,EAAOgB,EAAMT,IAR3F,iDAQiGS,GAASA,EAAMrB,MARhH,WAQEqB,EARF,MASWR,GAA6B,aAAnBA,EAAOW,SAT5B,kCAS4DN,GAAqBb,EAAOQ,EAAOD,IAT/F,iDASqGC,GAAUA,EAAOb,MATtH,WASEa,EATF,MAUWS,GAA6B,aAAnBA,EAAOE,SAV5B,kCAU4DN,GAAqBb,EAAOiB,EAAOV,IAV/F,iDAUqGU,GAAUA,EAAOtB,MAVtH,eAUEsB,EAVF,uBAWS,CAAEF,OAAMC,QAAOR,SAAQS,SAAQC,YAXxC,6C,+BAceJ,G,qFAAf,WAA6Bd,EAAOO,EAAIa,GAAxC,eAAAjG,EAAA,sEACkB6E,EAAMC,SAASM,EAAIa,EAAW,MADhD,cACQC,EADR,yBAEUA,GAAKA,EAAEnB,QAAUmB,EAAE,GAAGb,QAAU,MAF1C,4C,sBCzDA,IAsCec,GAtCU,SAASzB,GAAQ,IAAD,EACG0B,mBAAS,IADZ,mBAChCC,EADgC,KACjBC,EADiB,KAavC,OAVAC,qBAAU,WACRC,EAAoB9B,EAAO2B,GAC3B,IAAMI,EAAWC,aAAY,WAC3BF,EAAoB9B,EAAO2B,KAC1B,MACH,OAAO,WACLM,cAAcF,MAEf,CAAC/B,EAAO2B,IAEJA,EAbgC,SAiBxBG,EAjBwB,gFAiBvC,WAAmC9B,EAAOC,GAA1C,eAAA3E,EAAA,8DACK0E,GADL,qCACoBD,GAAsBC,EAAOC,GADjD,oEAEuCiC,EAAmBlC,GAF1D,OAEUmC,EAFV,OAGIP,EAAiBO,GAHrB,6CAjBuC,+BAwBxBD,EAxBwB,8EAwBvC,WAAkClC,GAAlC,iCAAA1E,EAAA,sEACsCgF,GAAwBN,GAD9D,UACQO,EADR,gDAEoC,IAFpC,OAGQ6B,EAAmB,GAH3B,iCAI+B7B,GAJ/B,mIAImBK,EAJnB,YAK+BE,GAAgBF,EAASF,IALxD,eAKU2B,EALV,iBAM2BC,GAAqBD,GANhD,QAMIzB,EAAS2B,MANb,OAOIF,EAAazB,SAAWA,EACxBwB,EAAiBI,KAAKH,GAR1B,2UAUSD,GAVT,6EAxBuC,wB,qDC+B1BK,GAvBsB,SAACC,GAEpC,IAAMf,EAAgBF,GAAiBiB,EAAM1C,OAEjB2B,EAAcgB,MAAM,SAACrH,EAAGsH,GAAJ,OAAU,IAAIC,KAAKD,EAAEhC,SAASC,UAAY,IAAIgC,KAAKvH,EAAEsF,SAASC,aAC9G,OACE,yBAAKH,GAAG,+BAA+BoC,UAAU,aAC/C,+CACA,6BACA,kBAACC,GAAA,EAAD,CAAKD,UAAU,0BAA0BE,IAAK,UAC5C,kBAACC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,qCAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAjB,WACZ,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAjB,YACZ,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,mBAAjB,YAEbnB,EAAcnB,KAAI,SAAA6B,GACjB,OAAS,kBAAC,GAAD,eAAkBA,aAAcA,GAAkBK,EAAlD,CAAyDM,IAAKX,EAAazB,SAASF,WAS/FyC,GAAmB,SAACT,GACxB,IAAML,EAAeK,EAAML,aAiB3B,OACE,yBAAKS,UAAS,oBACZ,kBAACC,GAAA,EAAD,CAAKD,UAAU,eAAeE,IAAKX,EAAazB,SAASF,IACvD,kBAACuC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,2BAAIT,EAAanB,KAAKkC,MAAM,KAAK,MAC9E,kBAACH,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,uBAAGO,KAAMhB,EAAalB,OAAO,kBAACmC,GAAA,EAAD,CAAOC,IAAG,WAAMlB,EAAalB,MAAnB,eACpF,kBAAC8B,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAiBT,EAAahB,UAC3D,kBAAC4B,GAAA,EAAD,CAAKC,GAAI,GArBf,WACE,OAAQb,EAAanB,MACnB,KAAKtC,EAAGzC,GAAG,UAEX,KAAKyC,EAAGzC,GAAG,UACT,OAAQ,kBAACqH,GAAA,EAAD,CAAQV,UAAW,kBAAmBW,QAAS,kBAAMC,EAAarB,EAAajB,UAA/E,gBACV,KAAKxC,EAAGzC,GAAG,SACT,OAAQ,kBAACqH,GAAA,EAAD,CAAQV,UAAW,kBAAmBW,QAAS,kBAAMC,EAAarB,EAAajB,UAA/E,aACV,KAAKxC,EAAGzC,GAAG,YACT,OAAQ,kBAACqH,GAAA,EAAD,CAAQV,UAAW,kBAAmBW,QAAS,kBAZ3B,2CAYiCE,CAAetB,EAAa1B,OAAOA,UAAxF,kBACV,QACE,OAAQ,+BAUKiD,MAxBe,SA6BnBF,EA7BmB,8EA6BlC,WAA4BG,GAA5B,iBAAAvI,EAAA,sEACyBwI,GAAgBD,GADzC,OACQE,EADR,QAEQC,EAAOC,GAAeC,cACvBC,KAAO,CAACJ,SAAUA,GACvBrB,EAAM0B,QAAQJ,GAJhB,4CA7BkC,kEAoClC,WAA8BK,GAA9B,iBAAA/I,EAAA,sEACyBwI,GAAgBO,GADzC,OACQN,EADR,QAEQC,EAAOC,GAAeK,gBACvBH,KAAO,CAACJ,SAAUA,GACvBrB,EAAM0B,QAAQJ,GAJhB,4CApCkC,wBChCnB5E,I,OAASlE,EAAQ,IAA1BmE,SA2BOkF,GAzBM,SAASvE,GAAQ,IAAD,EACD0B,mBAAS,IADR,mBAC5B8C,EAD4B,KACjBC,EADiB,KAsBnC,OAnBA5C,qBAAU,WAAM,4CAEd,WAA+B7B,GAA/B,+BAAA1E,EAAA,sEACgB0E,EADhB,OACEA,EADF,OAEEZ,GAAKsF,aACDF,EAAY,GAHlB,iCAIiCpF,GAAKY,GAAOpB,EAAGD,KAAK,iBAJrD,kIAImBgG,EAJnB,YAK2Bb,GAAgBa,GAAcA,EAAW7E,OALpE,QAKUiE,EALV,OAMIS,EAAUhC,KAAKuB,GANnB,0UAQSS,GART,6EAFc,sBAed,OAfc,2CAYdI,CAAgB5E,GAAO6E,MAAK,SAAAL,GAC1BC,EAAaD,MAER,YACK,KAEX,CAACxE,IACGwE,GCaMM,GAlCmB,SAACpC,GAEjC,IACM8B,EADgBD,GAAa7B,EAAM1C,OACT+E,QAAO,SAAAC,GAAC,OAAKA,EAAEC,QAAUD,EAAEC,SAAWrG,EAAGD,KAAK,eAQ9E,OACE,yBAAK+B,GAAG,4BAA4BoC,UAAU,aAC5C,2CACA,6BACA,kBAACC,GAAA,EAAD,CAAKD,UAAU,0BAA0BE,IAAK,UAC5C,kBAACC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,8CAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAjB,mBACZ,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,mBAAjB,YAEb0B,EAAUhE,KAAI,SAAAuD,GACb,OACE,kBAAChB,GAAA,EAAD,CAAKD,UAAU,gBAAgBE,IAAKe,EAASrD,IAC3C,kBAACuC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,kDAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAjB,gBACZ,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,kBAACM,GAAA,EAAD,CAAQC,QAAS,kBApBlB,SAASM,GAC5B,IAAMC,EAAOC,GAAeC,aAC5BF,EAAKG,KAAO,CAACJ,SAAUA,GACvBrB,EAAM0B,QAAQJ,GAiB6BkB,CAAanB,IAAWjB,UAAU,mBAAzD,uB,mBC5BhBjE,IAFkB3D,EAAQ,IAA1BmE,QAEuC8F,KAAvCtG,WAAWuG,GAA4BD,KAA5BC,QAAS3E,GAAmB0E,KAAnB1E,KAAM4E,GAAaF,KAAbE,SAE3B,SAAeC,GAAtB,uC,8CAAO,WAAkDtF,EAAOuF,EAAYC,GAArE,uBAAAlK,EAAA,yDACCmK,EAAe,GAGfC,EAAe,CACnBjF,GAAK5B,GAAUmB,GAAQnB,GAAUD,EAAGlC,KAAK,SAAU0I,GAAQI,EAAWG,OACtElF,GAAK5B,GAAUmB,GAAQnB,GAAUD,EAAGH,IAAI,cAAe2G,GAAQI,EAAWI,MAAO/G,GAAUD,EAAGL,IAAI,WAClGkC,GAAK5B,GAAUmB,GAAQnB,GAAUD,EAAGH,IAAI,aAAc2G,GAAQI,EAAWK,WACzEpF,GAAK5B,GAAUmB,GAAQnB,GAAUD,EAAGD,KAAK,gBAAiByG,GAAQI,EAAWM,WAG3EP,EAAWI,MACbF,EAAajD,KAAK/B,GAAK5B,GAAUmB,GAAQnB,GAAUD,EAAGlC,KAAK,SAAU0I,GAAQG,EAAWI,QACpFJ,EAAWK,OACfH,EAAajD,KAAK/B,GAAK5B,GAAUmB,GAAQnB,GAAUD,EAAGH,IAAI,cAAe2G,GAAQG,EAAWK,MAAO/G,GAAUD,EAAGL,IAAI,YAChHgH,EAAWM,UACfJ,EAAajD,KAAK/B,GAAK5B,GAAUmB,GAAQnB,GAAUD,EAAGH,IAAI,aAAc2G,GAAQG,EAAWM,YACvFN,EAAWO,SACfL,EAAajD,KAAK/B,GAAK5B,GAAUmB,GAAQnB,GAAUD,EAAGD,KAAK,gBAAiByG,GAAQG,EAAWO,YAGtEL,EAAapF,OArBnC,mDAqB8D0F,GAAcN,GArB5E,uFAqBgG,GArBhG,WAqBCO,EArBD,MAsBsBN,EAAarF,OAtBnC,mDAsB8D0F,GAAcL,GAtB5E,uFAsBgG,GAtBhG,WAsBCO,EAtBD,MAuBqBR,EAAapF,OAvBlC,kDAuB4D0F,GAAcN,GAvB1E,uFAuB8F,GAvB9F,eAuBCS,EAvBD,uCA2BDF,EA3BC,iBA4BDC,EA5BC,iBA6BDC,EA7BC,sD,sBA2DA,SAAeC,GAAtB,qC,8CAAO,WAA4CnG,EAAOoG,GAAnD,eAAA9K,EAAA,6DACC+K,EAAW,CAAE5F,GAAK5B,GAAUmB,GAAQnB,GAAUD,EAAGD,KAAK,cAAeE,GAAUuH,KADhF,0BAEoBL,GAAcM,GAFlC,2H,sBAsBA,SAAeC,GAAtB,qC,8CAAO,WAAyC3B,EAAY4B,GAArD,mBAAAjL,EAAA,6DACCkL,EAAYnB,GAAS,UACrBI,EAAe,CAAChF,GAAK5B,GAAU8F,GAAa9F,GAAUD,EAAGD,KAAK,WAAY6H,IAC1Ed,EAAe,CAACjF,GAAK5B,GAAU8F,GAAa9F,GAAUD,EAAGD,KAAK,WAAYE,GAAU0H,KAHrF,wCAKiBR,GAAcN,GAL/B,2FAMiBM,GAAcL,GAN/B,2FAOgBK,GAAcN,GAP9B,gM,sBAYA,SAAegB,GAAtB,qC,8CAAO,WAAsC9B,EAAY+B,GAAlD,eAAApL,EAAA,6DACCoK,EAAe,CAACjF,GAAK5B,GAAU8F,GAAa9F,GAAUD,EAAGD,KAAK,iBAAkBE,GAAU6H,KAD3F,wCAGiBX,GAAcL,GAH/B,kK,sBASA,SAAeK,GAAtB,mC,8CAAO,WAA6BM,GAA7B,SAAA/K,EAAA,+EACE,IAAIqL,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAS,IAAIC,KACnBD,EAAOE,SAASX,GAChBS,EAAOG,KAAI,SAACpH,EAAOqH,IACbrH,GAAUqH,GAAQL,EAAOhH,GAAS,0CACtC+G,EAAQM,UANP,4C,0BCtGCrI,GAAiDsG,KAAjDtG,UAA+B4B,IAAkB0E,KAAtCgC,UAAsChC,KAA3BC,QAA2BD,KAAlB1E,MAAkB0E,KAAZE,SAMtC,SAAe+B,GAAtB,uC,8CAAO,WAAsCC,EAAcC,EAAiBtH,GAArE,2BAAA1E,EAAA,yDACD8K,EAAakB,EAAgBC,SAAS,KAAOD,EAAkBA,EAAkB,IACrFlB,GAA0BoB,KACmC,IAAzDH,EAAatC,QAAO,SAAAC,GAAC,MAAe,WAAXA,EAAE9D,QAAmBb,OAH7C,sBAGiE,IAAIoH,MAAM,kDAH3E,YAIDJ,EAAatC,QAAO,SAAAC,GAAC,MAAe,YAAXA,EAAE9D,QAAoBb,OAAS,GAJvD,sBAIgE,IAAIoH,MAAM,6DAJ1E,uBAOkBC,GAA0BL,EAAcrH,GAP1D,cAOC2H,EAPD,iBAQc9L,EAAQuK,EAAYuB,GARlC,gCAWmBC,GAA2B5H,EAAOoG,GAXrD,eAWCyB,EAXD,iBAYelM,EAAUqE,EAAO6H,GAZhC,6BAeeR,GAff,kEAeI/K,EAfJ,QAgBGwL,EAAYxL,EAAQ0D,MAhBvB,UAiBwB+H,GAAiC/H,EAAO8H,EAAW1B,GAjB3E,QAkBH9G,GAlBG,OAkBkB,CAACwI,IAlBnB,2M,sBAsBA,SAAeE,GAAtB,qC,8CAAO,WAAsC5B,EAAYpG,GAAlD,eAAA1E,EAAA,sEAEmB2M,GAA2BjI,EAAOoG,GAFrD,cAECyB,EAFD,gBAGgB9L,EAAWqK,GAH3B,8BAIezK,EAAUqE,EAAO6H,GAJhC,0D,sBAYA,SAAeK,GAAtB,uC,8CAAO,WAA8BlI,EAAOoG,EAAY+B,GAAjD,eAAA7M,EAAA,sEACgCyK,GAAc,CAACtF,GAAK5B,GAAUmB,GAAQnB,GAAUD,EAAGD,KAAK,aAAcE,GAAUuH,MADhH,+BACa,WADb,KACCyB,EADD,KACiI,KADjI,SAEelM,EAAUqE,EAAO6H,GAFhC,+BAGsBO,GAA6BpI,EAAOoG,EAAY+B,GAHtE,QAIL7I,GAJK,OAIgB,CAAC6I,IAJjB,6C,sBAmBA,SAAeE,GAAtB,uC,8CAAO,WAA8BrI,EAAO2E,EAAY2D,GAAjD,eAAAhN,EAAA,6DAEC+G,EAAekG,GAA6CvI,EAAO2E,EAAY2D,GAFhF,SAGChJ,GAAO+C,EAAc,CAACiG,IAHvB,uBAMCE,GAA6B7D,EAAY,aAN1C,4C,oEAeA,WAA+B3E,EAAOoG,EAAYkB,GAAlD,uBAAAhM,EAAA,sEAEcmN,GAA8BzI,EAAOoG,GAFnD,cAECxK,EAFD,OAGC8M,EAAiBpB,EAAkBqB,KAHpC,SAKkB9M,EAAQ6M,EAAgB9M,GAL1C,8BAQmBuK,GAA6BnG,EAAOoG,GARvD,cAQCyB,EARD,iBASelM,EAAUqE,EAAO6H,GAThC,gCAYkB/D,GAAgBsC,GAZlC,eAYCrC,EAZD,OAaC6E,EAAsB7E,EAAS8E,OAAOrI,KAAI,SAAAwE,GAAC,OAAIA,EAAEtE,MAAIoI,OAAO/E,EAASgF,QAAQvI,KAAI,SAAAwE,GAAC,OAAIA,EAAEtE,OAbzF,UAcsBsI,GAAkDhJ,EAAO0I,EAAgBtC,EAAYwC,GAd3G,QAgBLtJ,GAhBK,OAgBgBsJ,GAhBhB,6C,oEAyBA,WAA8B5I,EAAOoG,EAAYkB,GAAjD,SAAAhM,EAAA,sDAEL2N,KAFK,4C,sBAaA,SAAeT,GAAtB,qC,8CAAO,WAA4C7D,EAAY4B,GAAxD,mBAAAjL,EAAA,6DACC2J,EAASrG,EAAGD,KAAK4H,GADlB,SAEmBD,GAA0B3B,EAAYM,GAFzD,cAEC4C,EAFD,gBAGelM,EAAUgJ,EAAYkD,GAHrC,cAGCxK,EAHD,yBAIEA,EAAM4H,QAJR,4C,sBAaA,SAAeiE,GAAtB,uC,8CAAO,WAAsC9C,EAAYM,EAAezB,GAAjE,iBAAA3J,EAAA,sEAEgBkN,GAA6BpC,EAAYnB,GAFzD,8BAImBwB,GAAuBL,EAAYM,GAJtD,cAICyC,EAJD,gBAKexN,EAAUyK,EAAY+C,GALrC,cAKC9L,EALD,yBAMEA,EAAM4H,QANR,6C,sBAUA,SAASmD,GAA6BpI,EAAOoG,EAAY+B,GAC9D,MAAM,uGAAN,OAGgBnI,EAHhB,6EAMkBmI,EANlB,mCAOmBnI,EAPnB,mCAQmBoG,EARnB,4CAUiBA,EAVjB,iGA+BK,SAAS2B,GAAiC/H,EAAO8H,EAAWsB,GACjE,MAAM,sGAAN,OAGgBpJ,EAHhB,iCAIiB8H,EAJjB,iCAKiBsB,EALjB,+EAWK,SAASb,GAA6CvI,EAAOoJ,EAAoBd,GACtF,MAAM,yGAAN,OAGgBtI,EAHhB,6EAMkBA,EANlB,oCAOmBoJ,EAPnB,4CASiBd,EATjB,uGAeK,SAASU,GAAkDhJ,EAAO0G,EAAe0C,EAAoBC,GAE1G,MAAM,yGAAN,OAGgBrJ,EAHhB,6EAMkBA,EANlB,oCAOmB0G,EAPnB,mCAQmB0C,EARnB,2CAUgBC,EAAQ7I,KAAI,SAAAwE,GAAC,iBAAQA,EAAR,QAAcsE,KAAK,MAVhD,oH,SAeab,G,mFAAf,WAA6CzI,EAAOoG,GAApD,SAAA9K,EAAA,mGAEUsD,EAAGD,KAAK,eAFlB,qBAGOC,EAAGD,KAAK,aAHf,cAGiCyH,EAHjC,qBAIOxH,EAAGD,KAAK,gBAJf,cAIoCqB,EAJpC,qBAKOpB,EAAGD,KAAK,sBALf,eAK0C,IAAIkE,MAAO0G,cALrD,eAKyE3K,EAAGL,IAAI,YALhF,qBAMOK,EAAGlB,KAAK,WANf,8DAM+E0I,EAN/E,eAMgGpG,EANhG,wD,sBAWO,SAASiJ,GAA+CjJ,EAAOoJ,EAAoBC,GAExF,MAAM,yGAAN,OAGgBrJ,EAHhB,6EAMkBA,EANlB,oCAOmBoJ,EAPnB,2CASgBC,EAAQ7I,KAAI,SAAAwE,GAAC,iBAAQA,EAAR,QAAcsE,KAAK,MAThD,yFAqBF,IAAM9B,GAAkB,WACtB,IAAMgC,EAAI,oBAAqB,IAAI3G,MAAO0G,cAC1C,OAAOE,mBAAmBD,GAAK,QAG3Bb,GAAqB,WACzB,IAAMa,EAAI,eAAgB,IAAI3G,MAAO0G,cACrC,OAAOE,mBAAmBD,GAAK,Q,SAOlB9B,G,mFAAf,WAAyCL,EAAcqC,GAAvD,2BAAApO,EAAA,sDACQ+K,EAAW,CAAE5F,GAAK5B,GAAU,IAAKA,GAAUD,EAAGnB,IAAI,SAAUoB,GAAUD,EAAGD,KAAK,sBAChE8B,GAAK5B,GAAU,IAAKA,GAAUD,EAAGpC,IAAI,YAAaqC,GAAU6K,IAC5DjJ,GAAK5B,GAAU,IAAKA,GAAUD,EAAGD,KAAK,WAAYE,GAAUD,EAAGD,KAAK,eAH1F,cAIqB0I,EAAatC,QAAO,SAAAC,GAAC,MAAe,WAAXA,EAAE9D,SAJhD,IAIE,2BAAS2H,EAAT,QACExC,EAAS7D,KAAK/B,GAAK5B,GAAU,IAAKA,GAAUD,EAAGH,IAAI,WAAYI,GAAUgK,EAAO7I,SALpF,4CAMsBqH,EAAatC,QAAO,SAAAC,GAAC,MAAe,YAAXA,EAAE9D,SANjD,IAME,2BAAS6H,EAAT,QACE1C,EAAS7D,KAAK/B,GAAK5B,GAAU,IAAKA,GAAUD,EAAGD,KAAK,YAAaE,GAAUkK,EAAQ/I,SAPvF,8CAQe+F,GAAcM,GAR7B,oF,sBAWO,SAAeuB,GAAtB,qC,8CAAO,WAA0C5H,EAAOoG,GAAjD,SAAA9K,EAAA,uFACoByK,GAAe,CAACtF,GAAK5B,GAAUmB,GAAQnB,GAAUD,EAAGD,KAAK,gBAAiBE,GAAUuH,MADxG,2H,sBAIA,SAAe6B,GAAtB,qC,8CAAO,WAA0CjI,EAAOoG,GAAjD,SAAA9K,EAAA,uFACoByK,GAAe,CAACtF,GAAK5B,GAAUmB,GAAQnB,GAAUD,EAAGD,KAAK,gBAAiBE,GAAUuH,MADxG,2H,sBChRP,IA+FeuD,GA/FqB,SAACjH,GAInC,IAAMf,EAAgBF,GAAiBiB,EAAM1C,OACvCwE,EAAYD,GAAa7B,EAAM1C,OALQ,EAMM0B,mBAAS,IANf,mBAMtCkI,EANsC,KAMnBC,EANmB,iDA+C7C,WAAqClF,GAArC,eAAArJ,EAAA,uDACQ0I,EAAOC,GAAe6F,iBACvB3F,KAAO,CAACiC,WAAYzB,GACzB/E,QAAQ5C,IAAI,eAAgBgH,GAC5BtB,EAAM0B,QAAQJ,GAJhB,4CA/C6C,sBAwD7C,OAjDApE,QAAQ5C,IAAI,gBAAiB2E,GAE7BE,qBAAU,WACR,IAGMkI,EAAe,uCAAG,WAAOC,GAAP,qBAAA1O,EAAA,sDAChB2O,EAAuBtI,EAAcoD,QAAO,SAAA1C,GAAY,OAC5DA,EAAanB,OAAStC,EAAGzC,GAAG,aACzBkG,EAAa1B,QACb0B,EAAa1B,OAAOA,QACpB0B,EAAazB,SAAS2B,MAAM5B,OAAOA,SAAW/B,EAAGD,KAAK,kBALrC,cAQDqL,GARC,aAAA1O,EAAA,wCAAAA,EAAA,yDAQbyI,EARa,WASdmG,EAAwBD,EAAqBlF,QAAO,SAAAoF,GAAC,OAAIA,EAAExJ,OAAOS,SAAW2C,EAASrD,OAClEL,OAAS,GAVf,uBAWZqG,EAAgBwD,EAAsB,GAAGvJ,OAAOA,OAChDgE,EAAauF,EAAsB,GAAGvJ,OAAOS,OAZjC,SAaZ8H,GAAuBvE,EAAY+B,EAAe,YAbtC,OAclB3C,EAASkB,OAAS,WAClBmF,EAA0B5H,KAAKuB,GAfb,yQAkBtB8F,EAAsBO,GAlBA,gEAAH,sDAqBfA,EAA4B5F,EAAUO,QAAO,SAAAsF,GAAC,OAAIA,EAAEpF,SAAWrG,EAAGD,KAAK,eAAamK,OAAOtE,EAAUO,QAAO,SAAAsF,GAAC,OAAIA,EAAEpF,SAAWrG,EAAGD,KAAK,gBACtIqL,EAAqBxF,EAAUO,QAAO,SAAAsF,GAAC,OAAIA,EAAEpF,SAAWrG,EAAGD,KAAK,gBAMtE,OALIqL,EAAmB3J,OACrB0J,EAAgBC,GAEhBH,EAAsBO,GAEjB,YACK,KAEX,CAACzI,EAAe6C,IAajB,yBAAK9D,GAAG,8BAA8BoC,UAAU,aAC9C,8CACA,6BACA,kBAACC,GAAA,EAAD,CAAKD,UAAU,0BAA0BE,IAAK,UAC5C,kBAACC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,iDAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAjB,2BACZ,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,mBAAjB,yBAGd,kBAACC,GAAA,EAAD,CAAKD,UAAU,eAAeE,IAAK,eACjC,kBAACC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,4CAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAjB,8BAEd,kBAACC,GAAA,EAAD,CAAKD,UAAU,eAAeE,IAAK,aACjC,kBAACC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,0CAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAjB,8BAEZ8G,EAAkBvJ,OAEhBuJ,EAAkBpJ,KAAI,SAAAuD,GACpB,OACE,kBAAChB,GAAA,EAAD,CAAKD,UAAU,eAAeE,IAAKe,EAASrD,IAC1C,kBAACuC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,yCAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAjB,2BACZ,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,kBAACM,GAAA,EAAD,CAAQC,QAAU,kBAjFC,2CAiFK6G,CAAsBvG,EAASrD,MAAvD,yBAKlB,kBAACqC,GAAA,EAAD,CAAKD,UAAU,eAAeE,IAAK,aACjC,kBAACC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,yCAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAjB,gC,qBC7FP1D,I,OAASlE,EAAQ,IAA1BmE,SAmBD,SAAekL,GAAtB,mC,8CAAO,WAA0BvK,GAA1B,uBAAA1E,EAAA,sEACS0E,EADT,UACLA,EADK,gDAEa,MAFb,cAGLZ,GAAKsF,aACD8F,EAAcpL,GAAKY,GAJlB,SAMcyK,GAA2BD,EAAY5L,EAAGlC,KAAK,UAN7D,cAMCiJ,EAND,iBAOe8E,GAA2BD,EAAY5L,EAAGH,IAAI,eAP7D,eAOCmH,EAPD,iBAQkB6E,GAA2BD,EAAY5L,EAAGH,IAAI,cARhE,eAQCoH,EARD,iBASiB4E,GAA2BD,EAAY5L,EAAGD,KAAK,iBAThE,eASCmH,EATD,yBAWE,CAAEH,OAAMC,QAAOC,WAAUC,YAX3B,6C,sBAcQ4E,OA/BI,SAAS1K,GAAQ,IAAD,EACH0B,mBAAS,MADN,mBAC1BiJ,EAD0B,KACjBC,EADiB,KAcjC,OAZA/I,qBAAU,WACR,IAAIgJ,GAAU,EAOd,OANAN,GAAWvK,GAAO6E,MAAK,SAAA8F,GAClBA,IAASA,EAAQ3K,MAAQA,GACzB6K,GAASD,EAAWD,MACtBG,MACDF,EAAW,OAEN,WACLC,GAAU,KAEX,CAAC7K,IACG2K,GCsBHI,GAAe,CACnBpF,KAAM,OACNC,MAAO,YACPC,SAAU,UACVC,QAAS,gBAGIkF,GAvCgB,SAACtI,GAC9B,IAAMiI,EAAUD,GAAWhI,EAAM1C,OAEjC,OAAM2K,EAWJ,yBAAKjK,GAAG,yBAAyBoC,UAAU,aACzC,yCACA,6BACCmI,OAAOC,KAAKH,IAAcvK,KAAI,SAAA2K,GAC7B,OACE,kBAACpI,GAAA,EAAD,CAAKD,UAAU,gBAAgBE,IAAKmI,GAClC,kBAAClI,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,2BAAIiI,GAAaI,MAC9D,kBAAClI,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAiB6H,EAAQQ,IAvB7C,sBA2Bf,6BACA,6BACA,kBAAC3H,GAAA,EAAD,CAAQC,QAAS,kBAAMf,EAAM0B,QAAQH,GAAemH,iBAApD,SAtBA,yBAAK1K,GAAG,yBAAyBoC,UAAU,aACzC,yCACA,6BACA,kBAAC,KAAD,CAAc5B,KAAM,Y,gCC0EbmK,GA/EgB,SAAC3I,GAE9B,IAAMiI,EAAUD,GAAWhI,EAAM1C,OAFO,EAIWsL,aAAQ,CAAEC,cAAe,KAApEC,EAJgC,EAIhCA,SAAUC,EAJsB,EAItBA,aAAcC,EAJQ,EAIRA,QAASC,EAJD,EAICA,MAEnCC,EAAQ,uCAAG,WAAMpG,GAAN,SAAAlK,EAAA,kEACfK,EADe,KACL+G,EAAM1C,MADD,SACcsF,GAAmC5C,EAAM1C,MAAO2K,EAASnF,GADvE,uCAEf9C,EAAM0B,QAAQH,GAAe0G,SAFd,2CAAH,sDASd,GAJA9I,qBAAU,WACR8J,EAAMhB,KACL,CAACA,KAEEA,EACJ,OACE,yBAAKjK,GAAG,yBAAyBoC,UAAU,aACzC,yCACA,6BACA,kBAAC,KAAD,CAAc5B,KAAM,WAK1B,IAAM2K,EAAa,CAAC,CAClBC,MAAO,OACPnG,KAAM,OACNzE,KAAM,QACL,CACD4K,MAAO,YACPnG,KAAM,QACNzE,KAAM,QACL,CACD4K,MAAO,UACPnG,KAAM,WACNzE,KAAM,QACL,CACD4K,MAAO,eACPnG,KAAM,UACNoG,WAAY,kBAAC,KAAD,CAAY5P,GACpB,kBAAC6P,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAUnM,MAAO,UAAjB,UACA,kBAACmM,GAAA,EAAD,CAAUnM,MAAO,cAAjB,cACA,kBAACmM,GAAA,EAAD,CAAUnM,MAAO,WAAjB,WACA,kBAACmM,GAAA,EAAD,CAAUnM,MAAO,YAAjB,YACA,kBAACmM,GAAA,EAAD,CAAUnM,MAAO,WAAjB,YAGJ4L,QAASA,EACT/F,KAAK,UACLuG,aAAc,aAIlB,OACE,yBAAKxL,GAAG,yBAAyBoC,UAAU,aACzC,yCACA,6BACA,0BAAM8I,SAAUH,EAAaG,IAC1BC,EAAWrL,KAAI,SAAA2L,GACd,OACE,kBAACpJ,GAAA,EAAD,CAAKD,UAAU,gBAAgBE,IAAKmJ,EAAKxG,MACvC,kBAAC1C,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,2BAAIqJ,EAAKL,SACrDK,EAAKJ,WACJ,kBAAC9I,GAAA,EAAD,CAAKC,GAAI,GAAIiJ,EAAKJ,YAClB,kBAAC9I,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOhC,KAAMiL,EAAKjL,MAAQ,OAAQ4B,UAAU,2BAA2B6C,KAAMwG,EAAKxG,KAAMyG,IAAKZ,EAAS,CAAEa,UAAU,WAKtI,6BACA,6BACA,kBAAC7I,GAAA,EAAD,CAAQtC,KAAK,UAAb,a,gCC3DF6J,GAAe,CACnBpF,KAAM,OACNC,MAAO,YACPC,SAAU,UACVC,QAAS,gBAGIwG,GA3Bc,SAAC5J,GAE5B,IAAMiI,EAAUD,GAAWhI,EAAM1C,OACjC,OAAI2K,GAAYA,EAAQhF,KAEtB,yBAAKjF,GAAG,uBAAuBoC,UAAWyJ,KAAOC,WAC9C7B,GAAWM,OAAOC,KAAKH,IAAcvK,KAAI,SAAA2K,GACxC,OACE,kBAACpI,GAAA,EAAD,CAAKD,UAAS,uBAAkByJ,KAAOE,gBAAkBzJ,IAAKmI,GAC5D,kBAAClI,GAAA,EAAD,CAAKyJ,GAAI,GAAIxJ,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,2BAAIiI,GAAaI,MACxD,SAAbA,EACA,kBAAClI,GAAA,EAAD,CAAKyJ,GAAI,GAAIxJ,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,uBAAGO,KAAMX,EAAM1C,OAAQ2K,EAAQQ,MACpF,kBAAClI,GAAA,EAAD,CAAKyJ,GAAI,GAAIxJ,GAAI,GAAG,2BAAOJ,UAAU,iBAAiB6H,EAAQQ,UATpC,+BCoDxBwB,GAvDsB,SAACjK,GAAW,IAAD,EACVhB,mBAASgB,EAAMkK,OAAO5M,OADZ,mBACvC6M,EADuC,KAC3BC,EAD2B,KAGxCnC,EAAUD,GAAWmC,GAK3BhL,qBAAU,WACJ8I,GAAWoC,EAAUpC,IAAUjI,EAAMsK,SAASrC,EAAQ3K,SACzD,CAAC2K,IAEJ,IACMoC,EAAY,SAACpC,GAAD,OAAaA,EAAQhF,MACjCsH,EAAU,SAACtC,GAAD,OAAaA,EAAQ/E,OAAS,IAAI/C,KAAK8H,EAAQ/E,QAE/D,SAAgBsH,GACd,IAAIC,EAAQ,IAAItK,KACZuK,EAAY,IAAIvK,KAAKqK,GACrBG,EAAMF,EAAMG,cAAgBF,EAAUE,cACtCC,EAAIJ,EAAMK,WAAaJ,EAAUI,YACjCD,EAAI,GAAY,IAANA,GAAWJ,EAAMM,UAAYL,EAAUK,YACjDJ,IAEJ,OAAOA,EAVgEK,CAAO,IAAI7K,KAAK8H,EAAQ/E,SAAW,IAuB5G,IAAM+H,EANN,SAAqBhD,GACnB,OAAIA,GAAYoC,EAAUpC,GACrBsC,EAAQtC,IArBI,SAACA,GAAD,OAAaA,EAAQhF,MAAQgF,EAAQ/E,OAAS+E,EAAQ9E,UAAY8E,EAAQ7E,QAqBjE8H,CAAWjD,QAArC,EACS,oHAFkCkC,EAAa,kCAA+BgB,EAKxEC,CAAYnD,GAE7B,OACE,yBAAKjK,GAAG,gCACN,kBAACqC,GAAA,EAAD,CAAKD,UAAU,gBAAgBE,IAAKN,EAAMkK,OAAOlM,IAC/C,kBAACuC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,2BAAIJ,EAAMkK,OAAOd,SAC9D,kBAAC7I,GAAA,EAAD,CAAKC,GAAI,GAAG,kBAAC6K,GAAA,EAAD,CAAOjL,UAAU,gBAAgBhD,MAAO+M,GAAc,GAAIlH,KAAK,WAAWqI,SAtCjE,SAACC,GAC1BnB,EAAcmB,EAAM7M,OAAOtB,YAuCxB6N,GAAY,uBAAGO,MAlBC,CACnBC,MAAO,QAiBiCR,GAEtC,kBAAC5K,GAAA,EAAD,CAAKD,UAAU,gBAAgBE,IAAKN,EAAMkK,OAAOlM,IAC/C,kBAACuC,GAAA,EAAD,CAAKC,GAAI,IACT,kBAACD,GAAA,EAAD,CAAKC,GAAI,GAAG,kBAAC,GAAD,CAAsBlD,MAAO6M,EAAY7J,IAAK6J,Q,UC0DnDuB,GAtGkB,SAAC1L,GAEhC,IAAM2L,EAAYC,oBAAS5L,EAAM1C,OAFS,EAGI0B,mBAAS2M,EAAUE,OAASF,EAAUG,OAAS,YAHnD,mBAGnClH,EAHmC,KAGlBmH,EAHkB,OAIhB/M,mBAAS,CACjC,CACEoK,MAAO,SACP5K,KAAM,SACNlB,MAAO0C,EAAM1C,MACbU,GAAI,GAEN,CACEoL,MAAO,SACP5K,KAAM,SACNlB,MAAO,GACPU,GAAI,GAEN,CACEoL,MAAO,UACP5K,KAAM,UACNlB,MAAO,GACPU,GAAI,KArBkC,mBAInCgO,EAJmC,KAI5BC,EAJ4B,KAyBpClD,EAAY,uCAAG,WAAMwC,GAAN,SAAA3S,EAAA,yDACdsT,EAAmBF,GADL,iEAEItH,GAAuBsH,EAAOpH,EAAiB5E,EAAM1C,OAFzD,cAGnB0C,EAAM0B,QAAQH,GAAe4K,SAHV,2CAAH,sDA4BZD,EAAkB,uCAAG,kCAAAtT,EAAA,oEACNoT,GADM,6DAChB9B,EADgB,SAEX5M,MAFW,uBAGrB8O,OAAOC,MAAMnC,EAAO5M,MAAQ,wBAHP,mBAId,GAJc,wBAMDuK,GAAWqC,EAAO5M,OANjB,YAMjB2K,EANiB,QAOVhF,MAASgF,EAAQ/E,OAAU+E,EAAQ9E,UAAa8E,EAAQ7E,QAP9C,wBAQrBgJ,OAAOC,MAAMnC,EAAO5M,MAAQ,iCARP,mBASd,GATc,WAYH,WAAhB4M,EAAO1L,MAAyC,YAApByJ,EAAQ7E,QAZjB,wBAarBgJ,OAAOC,MAAM,UAAYnC,EAAO5M,MAAQ,wBAbnB,mBAcd,GAdc,yKAiBlB,GAjBkB,gEAAH,qDAwBxB,OACE,yBAAKU,GAAG,2BAA2BoC,UAAU,aAC3C,2DACA,6BACA,kBAACC,GAAA,EAAD,CAAKD,UAAU,0BAA0BE,IAAK,UAC5C,kBAACC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,yCAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAjB,kBAEd,8BACG4L,EAAMlO,KAAI,SAAAoM,GACT,OAAS,kBAAC,GAAD,CAA8BI,SAAU,SAAClN,GAAD,OAxDxC,SAACY,EAAIZ,GACpB,IAD8B,EACxBkP,EAAYN,EAAMO,QADM,cAEdD,GAFc,IAE9B,2BAA2B,CAAC,IAAnBE,EAAkB,QACrBA,EAAIxO,KAAOA,IACbwO,EAAIlP,MAAQF,IAJc,8BAO9B6O,EAASK,GAiDyDhC,CAASJ,EAAOlM,GAAIZ,IAAQ8M,OAAQA,EAAQ5J,IAAK4J,EAAOlM,QAEtH,kBAAC8C,GAAA,EAAD,CAAQC,QAAS,kBAhDJ,WACjB,IAAMuL,EAAYN,EAAMO,QACxBD,EAAUxM,KAAK,CACXsJ,MAAO,UACP5K,KAAM,UACNlB,MAAO,KACPU,GAAIgO,EAAMrO,OAAS,IAEvBsO,EAASK,GAwCkBG,KAAvB,iBACA,6BACA,6BACA,kBAACpM,GAAA,EAAD,CAAKD,UAAU,gBACb,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAiB,qBAC9C,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,kBAAC6K,GAAA,EAAD,CAAOjL,UAAU,gCAAgChD,MAAOwH,EAAiB0G,SArB/D,SAAChJ,GAC7ByJ,EAAmBzJ,EAAE5D,OAAOtB,YAsBxB,kBAAC0D,GAAA,EAAD,CAAQC,QAAS,kBAAMgI,MAAvB,aCvGF2D,GAAmB,CAAC,CACxBC,UAAW,cACXhO,QAAS,sBACTiO,OAAQ,qBACRC,UAAS,GACR,CACDF,UAAW,YACXhO,QAAS,wBACTiO,OAAQ,qBACRC,UAAS,GACR,CACDF,UAAW,WACXhO,QAAS,mBACTiO,OAAQ,qBACRC,UAAS,IA0BIC,GAvBiB,SAAC9M,GAC/B,OACE,yBAAKhC,GAAG,0BAA0BoC,UAAU,aAC1C,0CACA,6BACA,kBAACC,GAAA,EAAD,CAAKD,UAAU,0BAA0BE,IAAK,UAC5C,kBAACC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,iDAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAjB,YACZ,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,mBAAjB,oBAEbsM,GAAiB5O,KAAI,SAAAiP,GACpB,OACE,kBAAC1M,GAAA,EAAD,CAAKD,UAAU,eAAeE,IAAKyM,EAAQJ,WACzC,kBAACpM,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,2BAAI2M,EAAQJ,aACzD,kBAACpM,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAiB2M,EAAQpO,UACtD,kBAAC4B,GAAA,EAAD,CAAKC,GAAI,GAAG,kBAACM,GAAA,EAAD,CAAQV,UAAU,kBAAkBW,QAAS,kBAAMf,EAAM0B,QAAQH,GAAeyL,kBAAkBH,SAAUE,EAAQF,UAAWE,EAAQH,eCmIhJK,GArKO,SAACjN,GACrB,OACE,yBAAKhC,GAAG,gBAAgBoC,UAAU,2BAChC,wBAAIA,UAAU,6BAAd,oDAGA,kBAACC,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CAAKC,GAAI,GAAIe,GAAe2L,MAAMC,MAClC,kBAAC5M,GAAA,EAAD,CAAKC,GAAI,IAAI,+CAGf,kBAACH,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CAAKC,GAAI,IACT,kBAACD,GAAA,EAAD,CAAKC,GAAI,IACP,0HACA,gHAAqF,uBAAGG,KAAM,oCAAT,mBAArF,KACA,yIAIJ,6BAGA,kBAACN,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CAAKC,GAAI,GAAIe,GAAe0G,QAAQkF,MACpC,kBAAC5M,GAAA,EAAD,CAAKC,GAAI,IAAI,gEAGf,kBAACH,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CAAKC,GAAI,IACT,kBAACD,GAAA,EAAD,CAAKC,GAAI,IACP,4GACA,wJACA,8GACA,iGAAsE,kBAACM,GAAA,EAAD,aAAtE,YACA,mIAAwG,kBAACA,GAAA,EAAD,CAAQtC,KAAK,UAAb,UAAxG,YACA,0DAIJ,6BAEA,kBAAC6B,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CAAKC,GAAI,GAAIe,GAAe6L,SAASD,MACrC,kBAAC5M,GAAA,EAAD,CAAKC,GAAI,IAAI,6DAGf,kBAACH,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CAAKC,GAAI,IACT,kBAACD,GAAA,EAAD,CAAKC,GAAI,IACP,mHACA,2FACA,+EAAoD,kBAACM,GAAA,EAAD,2BAApD,sCACA,4GACA,6GACA,yHACA,0LACA,gHACA,8LACA,8EAAmD,kBAACA,GAAA,EAAD,kBAIvD,6BAEA,kBAACT,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CAAKC,GAAI,GAAIe,GAAe4K,QAAQgB,MACpC,kBAAC5M,GAAA,EAAD,CAAKC,GAAI,IAAI,8DAGf,kBAACH,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CAAKC,GAAI,IACT,kBAACD,GAAA,EAAD,CAAKC,GAAI,IACP,8IACA,kIAFF,wKAOE,+GACA,+DAKJ,6BAKA,6DACA,4BAEA,6BAGA,sEACA,4BAEA,6BAECe,GAAe8L,SAASF,KAnG3B,IAmGiC,gFAC/B,4BAEA,6BAEA,6CACA,4BAEA,6BAKA,6BACE,2BAAG,qCACH,sDACA,uEACA,0DACA,4GACA,kEACA,yDACA,4EACA,yDACA,6DACA,kGACA,wGACA,kHACA,iFACA,mFACA,sEACA,yEACA,uIACA,mFACA,2BAAG,6EACH,qFACA,6EACA,kDACA,kGACA,mEAzIJ,iXAyJE,6BAzJF,gWA6JE,+B,oBC3JWzQ,GAASlE,EAAQ,IAA1BmE,QAEF2Q,GAAqBpR,EAAGD,KAAK,YAC7BsR,GAAoBrR,EAAGD,KAAK,WAgKnBuR,GAvJe,SAACxN,GAC7B,IAAIyN,EAAczN,EAAMqB,SAAS8E,OAAOrI,KAAI,SAAAwE,GAAwB,OAAjBA,EAAE9D,KAAK,SAAiB8D,KAE3EmL,GADAA,EAAcA,EAAYrH,OAAOpG,EAAMqB,SAASgF,QAAQvI,KAAI,SAAAwE,GAAyB,OAAlBA,EAAE9D,KAAK,UAAkB8D,OAClExE,KAAI,SAAAwE,GAAgD,OAAzCA,EAAC,OAAaA,EAAC,QAAc,UAAmBA,KAH9C,MAIPtD,mBAASyO,GAJF,mBAIhCC,EAJgC,KAItBC,EAJsB,cAuBxBC,EAvBwB,8EAuBvC,WAAgCC,GAAhC,6CAAAjV,EAAA,sDAEE8D,GAAKsF,aAFP,iCAGoCtF,GAAKmR,GAAcP,KAHvD,gIAGmBQ,EAHnB,oBAIiBA,EAJjB,6DAIqC9N,EAAMqB,SAASrD,GAJpD,6BAIwD+P,GAAW,EAJnE,mVAMmCrR,GAAKmR,GAAcN,KANtD,mIAMmBS,EANnB,oBAOiBA,EAPjB,6DAOoChO,EAAMqB,SAASrD,GAPnD,6BAOuDiQ,GAAU,EAPjE,4UASSF,EAAW,WAAcE,EAAU,UAAY,WATxD,uGAvBuC,+BAmCxBC,EAnCwB,8EAmCvC,WAA8BC,GAA9B,qBAAAvV,EAAA,sDACQ8U,EAAW,GADnB,cAEsBS,GAFtB,gEAEWvU,EAFX,iBAG8BgU,EAAiBhU,EAAQoE,IAHvD,OAGIpE,EAAO,OAHX,OAII8T,EAAS5N,KAAKlG,GAJlB,wKAMS8T,GANT,iEAnCuC,kEA4CvC,4BAAA9U,EAAA,6DAEQgN,EAAa5F,EAAM1C,MAF3B,SAG2BqI,GAAe3F,EAAM1C,MAAO0C,EAAMqB,SAASrD,GAAI4H,GAH1E,cAIE5F,EAAM0B,QAAQH,GAAe8L,UAJ/B,4CA5CuC,kEA0DvC,sBAAAzU,EAAA,sEACQ4M,GAAexF,EAAM1C,MAAO0C,EAAMqB,SAASrD,GAAIgC,EAAMqB,SAAS+M,SADtE,OAEEC,IAFF,4CA1DuC,kEA+DvC,sBAAAzV,EAAA,sEACQ4M,GAAexF,EAAM1C,MAAO0C,EAAMqB,SAASrD,GAAIgC,EAAMqB,SAAS+M,SADtE,OAEEC,IAFF,4CA/DuC,+BAoExBA,IApEwB,2EAoEvC,4BAAAzV,EAAA,sEACgCsV,EAAeR,GAD/C,OACQY,EADR,OAEEX,EAAYW,GAFd,4CApEuC,sBA+EvC,SAASC,EAAiB3U,GACxB,OAAQA,EAAQ2I,QACd,IAAK,UACH,OAAI3I,EAAQoE,KAAOgC,EAAM1C,MACrB,6BACE,kBAACwD,GAAA,EAAD,CAAQV,UAAS,UAAKyJ,KAAO2E,OAAZ,oBAAsCzN,QAAS,kBApFrC,0CAoF2CyN,KAAtE,YACA,kBAAC1N,GAAA,EAAD,CAAQV,UAAS,UAAKyJ,KAAO4E,OAAZ,oBAAsC1N,QAAS,kBArFrC,0CAqF2C0N,KAAtE,aAIJ,6BACE,kBAAC3N,GAAA,EAAD,CAAQV,UAAS,UAAKyJ,KAAO6E,QAAZ,oBAAuC3N,QAAS,WAfzE7D,QAAQC,MAAM,UAeN,wBAIR,OAAO,8BAaT,OArGAgC,qBAAU,WACR,IAAIgJ,GAAU,EADA,SAECwG,IAFD,2EAEd,sBAAA/V,EAAA,sDACEsV,EAAeT,GAAatL,MAAK,SAAAmM,GAC5BnG,GAASwF,EAAYW,MAF5B,4CAFc,sBAOdK,IACA,IAAItP,EAAWC,aAAY,WACzBqP,MACC,KACH,OAAO,WACLxG,GAAU,EACV5I,cAAcF,MAEf,CAACW,EAAMqB,WAuFR,yBAAKrD,GAAG,wBAAwBoC,UAAU,aACxC,mDACA,6BACA,kBAACC,GAAA,EAAD,CAAKD,UAAU,0BAA0BE,IAAK,UAC5C,kBAACC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,yCAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAjB,iBACZ,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,mBAAjB,WACZ,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,mBAAjB,YAEbsN,EAAS5P,KAAI,SAAAlE,GACZ,OACE,kBAACyG,GAAA,EAAD,CAAKD,UAAU,eAAeE,IAAK1G,EAAQoE,IACzC,kBAACuC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,2BAAIxG,EAAQ4E,QACzD,kBAAC+B,GAAA,EAAD,CAAKC,GAAI,GAAG,kBAAC,GAAD,CAAsBlD,MAAO1D,EAAQoE,GAAIsC,IAAK1G,EAAQoE,MAClE,kBAACuC,GAAA,EAAD,CAAKC,GAAI,GAzBnB,SAA2B5G,GACzB,OAAQA,EAAQ2I,QACd,IAAK,WACH,MAAO,WACT,IAAK,UACH,MAAO,UAEX,MAAO,UAkBcqM,CAAkBhV,IAC/B,kBAAC2G,GAAA,EAAD,CAAKC,GAAI,GAAI+N,EAAiB3U,QAGlC,6BACA,6BACA,6BACEoG,EAAMqB,SAAS+M,UAAYpO,EAAM1C,MA9EzC,WAAuB,IAAD,gBACAoQ,GADA,IACpB,2BAA8B,CAC5B,GAAuB,aADK,QAChBnL,OAAuB,OAAO,GAFxB,8BAIpB,OAAO,EA2EC2I,GACE,kBAAC7K,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CAAKC,GAAI,IACT,kBAACD,GAAA,EAAD,CAAKC,GAAI,GACP,kBAACM,GAAA,EAAD,CAAQV,UAAS,UAAKyJ,KAAO2E,OAAZ,gBAAkCzN,QAAS,kBAtIrC,0CAsI2C8N,CAAuB7O,EAAMqB,SAASrD,GAAIgC,EAAM1C,SAAlH,+BAEF,kBAACiD,GAAA,EAAD,CAAKC,GAAI,GACP,kBAACM,GAAA,EAAD,CAAQV,UAAS,UAAKyJ,KAAOiF,OAAZ,gBAAkC/N,QAAS,kBAAMuE,OAAlE,gCAGJ,kBAACjF,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CAAKC,GAAI,IACT,kBAACD,GAAA,EAAD,CAAKC,GAAI,GACP,kBAACM,GAAA,EAAD,CAAQV,UAAS,UAAKyJ,KAAOiF,OAAZ,gBAAkC/N,QAAS,kBAAMuE,GAAuBtF,EAAMqB,SAASrD,GAAIgC,EAAM1C,SAAlH,gCAGN,kBAAC+C,GAAA,EAAD,QChKK3D,GAASlE,EAAQ,IAA1BmE,QAoEOoS,GAlEW,SAAC/O,GAEzB,IAAMf,EAAgBF,GAAiBiB,EAAM1C,OAFV,EAGG0B,mBAAS,IAHZ,mBAG5BgQ,EAH4B,KAGfC,EAHe,KAKnC9P,qBAAU,WACR,IAAIgJ,GAAU,EADA,4CAEd,8BAAAvP,EAAA,6DACQoW,EAAc/P,EAAcoD,QAAO,SAAA1C,GAAY,OACnDA,EAAanB,OAAStC,EAAGzC,GAAG,aACzBkG,EAAa1B,QACb0B,EAAa1B,OAAOA,QACpB0B,EAAazB,SAAS2B,MAAM5B,OAAOA,SAAW/B,EAAGD,KAAK,uBAL7D,SAOmCiT,EAA2BF,GAP9D,OAOQG,EAPR,OAQMhH,GAAS8G,EAAeD,EAAY3M,QAAO,SAAAyE,GAAC,OAAIA,EAAE7I,SAA2D,IAAjDkR,EAAmBC,QAAQtI,EAAE7I,OAAOA,UAAmE,IAAjDkR,EAAmBC,QAAQtI,EAAE7I,OAAOS,YAR5J,4CAFc,+BAaCwQ,EAbD,8EAad,WAA0CF,GAA1C,6BAAApW,EAAA,sDACQuW,EAAqB,GAD7B,iCAE0CzS,GAAKsD,EAAM1C,OAAOpB,EAAGD,KAAK,eAFpE,yHAEmBoT,EAFnB,EAGQlH,GAAO,UAAOkH,IAAuBF,EAAmBrP,KAAnB,UAA2BuP,IAHxE,0UAKSF,GALT,6EAbc,sBAuBd,OAvBc,mCAqBdG,GAEO,WACLnH,GAAU,KAGX,CAAClJ,IAGJ,IAAMgC,EAAc,uCAAG,WAAOsO,GAAP,iBAAA3W,EAAA,sEACEwI,GAAgBmO,GADlB,OACflO,EADe,QAEfC,EAAOC,GAAeK,gBACvBH,KAAO,CAACJ,SAAUA,GACvBrB,EAAM0B,QAAQJ,GAJO,2CAAH,sDAOpB,OACE,yBAAKlB,UAAU,aACf,sDACA,6BACA,kBAACC,GAAA,EAAD,CAAKD,UAAU,0BAA0BE,IAAK,UAC5C,kBAACC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,gDAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAjB,mBACZ,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,mBAAjB,YAEb4O,EAAYlR,KAAI,SAAA0R,GACf,OACE,kBAACnP,GAAA,EAAD,CAAKD,UAAU,gBAAgBE,IAAKkP,EAAWvR,QAC7C,kBAACsC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,kDAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAjB,yBACZ,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,kBAACM,GAAA,EAAD,CAAQC,QAAS,kBAAME,EAAeuO,EAAWvR,OAAOA,SAASmC,UAAU,mBAA3E,mB,oBCjDPqP,OAVf,WACE,OACE,yBAAKrP,UAAU,kBACb,yBAAKA,UAAU,UACb,kBAACsP,GAAA,EAAD,CAAatP,UAAU,cAAcuP,MAAM,6CAA3C,Y,wKCASjT,GAASlE,EAAQ,IAA1BmE,QAEF2Q,GAAqBpR,EAAGD,KAAK,YAC7BsR,GAAoBrR,EAAGD,KAAK,WA2HnB2T,GAlHiB,SAAC5P,GAC/B,IAAIyN,EAAczN,EAAMqB,SAAS8E,OAAOrI,KAAI,SAAAwE,GAAwB,OAAjBA,EAAE9D,KAAK,SAAiB8D,KAE3EmL,GADAA,EAAcA,EAAYrH,OAAOpG,EAAMqB,SAASgF,QAAQvI,KAAI,SAAAwE,GAAyB,OAAlBA,EAAE9D,KAAK,UAAkB8D,OAClExE,KAAI,SAAAwE,GAAgD,OAAzCA,EAAC,OAAaA,EAAC,QAAc,UAAmBA,KAH5C,MAITtD,mBAASyO,GAJA,mBAIlCC,EAJkC,KAIxBC,EAJwB,KAMnChC,EAAYC,oBAAS5L,EAAM1C,OAC3BsH,EAAkB+G,EAAUE,OAASF,EAAUG,OAAS,WAPrB,SAsB1B8B,EAtB0B,8EAsBzC,WAAgCC,GAAhC,6CAAAjV,EAAA,sDAEE8D,GAAKsF,aAFP,iCAGoCtF,GAAKmR,GAAcP,KAHvD,gIAGmBQ,EAHnB,oBAIiBA,EAJjB,6DAIqC9N,EAAMqB,SAASrD,GAJpD,6BAIwD+P,GAAW,EAJnE,mVAMmCrR,GAAKmR,GAAcN,KANtD,mIAMmBS,EANnB,oBAOiBA,EAPjB,6DAOoChO,EAAMqB,SAASrD,GAPnD,6BAOuDiQ,GAAU,EAPjE,4UASSF,EAAW,WAAcE,EAAU,UAAY,WATxD,uGAtByC,+BAkC1BC,EAlC0B,8EAkCzC,WAA8BC,GAA9B,qBAAAvV,EAAA,sDACQ8U,EAAW,GADnB,cAEsBS,GAFtB,gEAEWvU,EAFX,iBAG8BgU,EAAiBhU,EAAQoE,IAHvD,OAGIpE,EAAO,OAHX,OAII8T,EAAS5N,KAAKlG,GAJlB,wKAMS8T,GANT,iEAlCyC,sBA6DzC,SAASc,KbDJ,SAAP,gCaEIqB,CAAgB7P,EAAM1C,MAAO0C,EAAMqB,SAASrD,GAAI4G,GAChD5E,EAAM0B,QAAQH,GAAeuO,cAG/B,SAAS3L,KbmBJ,SAAP,gCajBI4L,CAAe/P,EAAM1C,MAAO0C,EAAMqB,SAASrD,GAAI4G,GAC/C5E,EAAM0B,QAAQH,GAAeuO,cAG/B,OA/DA3Q,qBAAU,WACR,IAAIgJ,GAAU,EADA,4CAEd,sBAAAvP,EAAA,sDACEsV,EAAeT,GAAatL,MAAK,SAAAmM,GAC5BnG,GAASwF,EAAYW,MAF5B,4CAFc,sBAQd,OARc,mCAOdK,GACO,WACLxG,GAAU,KAEX,CAACnI,EAAMqB,WAqDR,yBAAKrD,GAAG,wBAAwBoC,UAAU,aACxC,4CACA,6BACA,kBAACC,GAAA,EAAD,CAAKD,UAAU,0BAA0BE,IAAK,UAC5C,kBAACC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,yCAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAjB,iBACZ,kBAACG,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,mBAAjB,YAEbsN,EAAS5P,KAAI,SAAAlE,GACZ,OACE,kBAACyG,GAAA,EAAD,CAAKD,UAAU,eAAeE,IAAK1G,EAAQoE,IACzC,kBAACuC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,2BAAIxG,EAAQ4E,QACzD,kBAAC+B,GAAA,EAAD,CAAKC,GAAI,GAAG,kBAAC,GAAD,CAAsBlD,MAAO1D,EAAQoE,GAAIsC,IAAK1G,EAAQoE,MAClE,kBAACuC,GAAA,EAAD,CAAKC,GAAI,GA3CnB,SAA2B5G,GACzB,OAAQA,EAAQ2I,QACd,IAAK,WACH,MAAO,WACT,IAAK,UACH,MAAO,UAEX,MAAO,UAoCcqM,CAAkBhV,QAGnC,6BACA,6BACA,6BACEoG,EAAMqB,SAAS+M,UAAYpO,EAAM1C,MAtCzC,WAAuB,IAAD,gBACAoQ,GADA,IACpB,2BAA8B,CAC5B,GAAuB,aADK,QAChBnL,OAAuB,OAAO,GAFxB,8BAIpB,OAAO,EAmCC2I,GACE,kBAAC7K,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CAAKC,GAAI,IACT,kBAACD,GAAA,EAAD,CAAKC,GAAI,GACP,kBAACM,GAAA,EAAD,CAAQV,UAAS,UAAKyJ,KAAO2E,OAAZ,gBAAkCzN,QAAS,kBAAMyN,MAAlE,uBAEF,kBAACjO,GAAA,EAAD,CAAKC,GAAI,GACP,kBAACM,GAAA,EAAD,CAAQV,UAAS,UAAKyJ,KAAOiF,OAAZ,gBAAkC/N,QAAS,kBAAMoD,MAAlE,uBAGJ,kBAAC9D,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CAAKC,GAAI,IACT,kBAACD,GAAA,EAAD,CAAKC,GAAI,GACP,kBAACM,GAAA,EAAD,CAAQV,UAAS,UAAKyJ,KAAOiF,OAAZ,gBAAkC/N,QAAS,kBAAMoD,MAAlE,uBAGN,kBAAC9D,GAAA,EAAD,Q,UC9HN2P,GAAaxX,EAAQ,KAEVkE,GAASlE,EAAQ,IAA1BmE,Q,8CAGD,WAAuCsT,EAAUC,GAAjD,iCAAAtX,EAAA,6DAECuX,EAFD,+BAAAvX,EAAA,MAEiB,WAAOoF,GAAP,SAAApF,EAAA,kEAA8BoF,EAA9B,SAA8CtB,GAAKsB,GAAIiF,KAAvD,6CAA0BjF,GAA1B,KAAkCiF,KAAlC,kDAFjB,sDAIL/F,QAAQ5C,IAAI,WAAY2V,GACxB/S,QAAQ5C,IAAI2V,EAAS9J,QACrBjJ,QAAQ5C,IAAI2V,EAAS5J,SACrBnJ,QAAQ5C,IAAI,cAAe4V,GAC3BhT,QAAQ5C,IAAI4V,EAAYE,cARnB,SAUiBnM,QAAQoM,IAAIJ,EAAS9J,OAAOrI,IAAhB,uCAAoB,WAAOwE,GAAP,SAAA1J,EAAA,sEAAmBuX,EAAc7N,GAAjC,mFAApB,wDAV7B,cAUCgO,EAVD,iBAWmBrM,QAAQoM,IAAIJ,EAAS5J,QAAQvI,IAAjB,uCAAqB,WAAOwE,GAAP,SAAA1J,EAAA,sEAAmBuX,EAAc7N,GAAjC,mFAArB,wDAX/B,WAWCiO,EAXD,OAYiB,IAAnBD,EAAQ3S,QAAmC,IAAnB2S,EAAQ3S,OAZ9B,uBAYkD,IAAIoH,MAAM,+BAZ5D,yBAakBoL,EAAcD,EAAYE,cAb5C,QAaC/C,EAbD,OAcCmD,EAAcN,EAAYO,mBAG1BC,EAAM,IAAIC,KAEVC,EAASF,EAAIG,KAAKb,MAOxB9S,QAAQ5C,IAAI,MAAOoW,GAEnBA,EAAII,SAAS,IACbJ,EACGK,KADH,uBACgC,CAC5BC,MAAO,WAIXN,EAAIO,SAAS,KAGbP,EAAII,SAAS,IACbJ,EACCK,KADD,+CACsD,IAEtDL,EAAIO,SAAS,GAEbP,EAAII,SAAS,IACbJ,EAAIK,KAAJ,OAAiB,CACfG,OAAQ,IAEVR,EAAIS,SACJT,EAAIK,KAAJ,UAAYT,EAAQ,GAAGrN,MAAQ,CAC7BiO,OAAQ,GACR7W,KAAMiW,EAAQ,GAAGtS,KAInB0S,EAAIK,KAAJ,MAAgB,CACdG,OAAQ,IAEVR,EAAIS,SACJT,EAAIK,KAAJ,UAAYT,EAAQ,GAAKA,EAAQ,GAAGrN,KAAOqN,EAAQ,GAAGrN,MAAQ,CAC5DiO,OAAQ,GACR7W,KAAMiW,EAAQ,GAAKA,EAAQ,GAAGtS,GAAKsS,EAAQ,GAAGtS,KAIhD0S,EAAIO,SAAS,KAGbP,EAAIK,KAAJ,aAAeP,EAAYY,eAA3B,eAAgDZ,EAAYa,sBAAwB,IAEpFX,EAAIO,SAAS,GAEbP,EAAIK,KAAJ,aAAe1D,EAASpK,MAAQ,CAC9B5I,KAAMgT,EAASrP,KAUjB0S,EAAIO,SAAS,GACbP,EAAIK,KAAJ,eAAyB,IAEzBL,EAAIO,SAAS,GAtFR,cAwFiBV,GAxFjB,IAwFL,2BAAWlK,EAAsB,QAC/BqK,EAAIK,KAAJ,UAAY1K,EAAQpD,MAAQ,CAC1BiO,OAAQ,GACR7W,KAAMgM,EAAQrI,KAEhB0S,EAAIO,SAAS,IA7FV,8BAgGLP,EAAInM,MAGJqM,EAAOU,GAAG,UAAU,WAELV,EAAOW,OAAO,mBAA3B,IAGMC,EAAMZ,EAAOa,UAAU,mBAE7BvU,QAAQ5C,IAAIkX,GACZpF,OAAOsF,KAAKF,MA3GT,6C,sBCDP,IAqEeG,GArEkB,SAAC3R,GAAW,IAAD,EAEhBhB,mBAAS,IAFO,mBAEnCgN,EAFmC,KAE5B4F,EAF4B,KAmB1C,OAfAzS,qBAAU,WAAM,4CAEd,8BAAAvG,EAAA,sEACyBwI,GAAgBpB,EAAM0D,YAD/C,cACQuM,EADR,gBAE4B4B,GAAmB5B,EAASG,cAFxD,OAEQF,EAFR,OAGE0B,EAAS,CAAE3B,WAAUC,gBAHvB,4CAFc,sBAQd,OARc,mCAOd4B,GACO,YACK,KAEX,IAEH5U,QAAQ5C,IAAI,QAAS0R,GAEhBA,EAAMiE,UAAajE,EAAMkE,YAM5B,yBAAKlS,GAAG,wBAAwBoC,UAAU,aACxC,sDACA,6BACA,kBAACC,GAAA,EAAD,CAAKD,UAAU,2BACb,kBAACG,GAAA,EAAD,CAAKC,GAAI,IACT,kBAACD,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,uBAAGO,KAAMqL,EAAMiE,SAASjS,IAAI,2CAE1EgO,EAAMiE,SAAS9J,OAAOrI,KAAI,SAAAqI,GACzB,OACE,kBAAC9F,GAAA,EAAD,CAAKD,UAAU,eAAeE,IAAK,SAAW6F,EAAOnI,IACnD,kBAACuC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,uCAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,IAAI,kBAAC,GAAD,CAAsBlD,MAAO6I,EAAOnI,UAItDgO,EAAMiE,SAAS5J,QAAQvI,KAAI,SAAAuI,GAC1B,OACE,kBAAChG,GAAA,EAAD,CAAKD,UAAU,eAAeE,IAAK,UAAY+F,EAAQrI,IACrD,kBAACuC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,wCAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,IAAI,kBAAC,GAAD,CAAsBlD,MAAO+I,EAAQrI,UAKxD,kBAACqC,GAAA,EAAD,CAAKD,UAAU,2BACb,kBAACG,GAAA,EAAD,CAAKC,GAAI,IACT,kBAACD,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,uBAAGO,KAAMqL,EAAMkE,YAAYlS,IAAI,8CAE9E,kBAACqC,GAAA,EAAD,CAAKD,UAAU,eAAeE,IAAK,gBACjC,kBAACC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,6CAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,IAAI,2BAAOJ,UAAU,iBAAiB4L,EAAMkE,YAAYE,gBAEnE,kBAAC/P,GAAA,EAAD,CAAKD,UAAU,eAAeE,IAAK,sBACjC,kBAACC,GAAA,EAAD,CAAKC,GAAI,GAAG,2BAAOJ,UAAU,iBAAgB,6CAC7C,kBAACG,GAAA,EAAD,CAAKC,GAAI,IAAI,2BAAOJ,UAAU,iBAAiB,IAAID,KAAK6L,EAAMkE,YAAYO,oBAAoBsB,oBAEhG,kBAAC1R,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CAAKC,GAAI,IACT,kBAACD,GAAA,EAAD,CAAKC,GAAI,GAAG,kBAACM,GAAA,EAAD,CAAQC,QAAS,kBD9D9B,SAAP,qCC8D2CiR,CAAuBhG,EAAMiE,SAAUjE,EAAMkE,cAAcrD,UAAQ,GAA1F,cA1Cd,yBAAK7O,GAAG,wBAAwBoC,UAAU,eCF/B1D,GAASlE,EAAQ,IAA1BmE,QAID,SAAeoL,GAAtB,mC,8CAAO,WAA2CkK,GAA3C,SAAArZ,EAAA,+EACcqZ,EAAQ7U,MADtB,sGAEU+N,GAFV,yD,sBAKA,IAAM5J,GAAiB,CAC5B2L,MAAgB,CAAClP,GAAG,QAAoBoL,MAAM,QAAoB8I,WAAW,SAAClS,GAAD,OAAW,kBAAC,GAAmBA,IAA2BmN,KAAM,kBAAC,KAAD,OAC7IlF,QAAgB,CAACjK,GAAG,UAAoBoL,MAAM,UAAoB8I,WAAW,SAAClS,GAAD,OAAW,kBAAC,GAA2BA,IAAmCmN,KAAM,kBAAC,KAAD,OAC7JzE,cAAgB,CAAC1K,GAAG,cAAoBoL,MAAM,iBAAoB8I,WAAW,SAAClS,GAAD,OAAW,kBAAC,GAA2BA,IAAmCmN,KAAM,kBAAC,KAAD,OAC7JC,SAAgB,CAACpP,GAAG,WAAoBoL,MAAM,WAAoB8I,WAAW,SAAClS,GAAD,OAAW,kBAAC,GAA4BA,IAAmCmN,KAAM,kBAAC,KAAD,OAC9JH,gBAAiB,CAAChP,GAAG,kBAAmBoL,MAAM,mBAAoB8I,WAAW,SAAClS,GAAD,OAAW,kBAAC,GAA6BA,IAAoCmN,KAAM,kBAAC,KAAD,OAChK3L,aAAgB,CAACxD,GAAG,eAAoBoL,MAAM,gBAAoB8I,WAAW,SAAClS,GAAD,OAAW,kBAAC,GAA0BA,IAAiCmN,KAAM,kBAAC,KAAD,OAC1JhB,QAAgB,CAACnO,GAAG,UAAoBoL,MAAM,cAAoB8I,WAAW,SAAClS,GAAD,OAAW,kBAAC,GAA8BA,IAAqCmN,KAAM,kBAAC,KAAD,OAClK2C,aAAgB,CAAC9R,GAAG,eAAoBoL,MAAM,eAAoB8I,WAAW,SAAClS,GAAD,OAAW,kBAAC,GAAgCA,IAAuCmN,KAAM,kBAAC,KAAD,OACtKlO,cAAgB,CAACjB,GAAG,gBAAoBoL,MAAM,gBAAoB8I,WAAW,SAAClS,GAAD,OAAW,kBAAC,GAAiCA,IAAwCmN,KAAM,kBAAC,KAAD,OACxKgF,KAAgB,CAACnU,GAAG,OAAoBoL,MAAM,OAAoB8I,WAAW,SAAClS,GAAD,OAAW,kBAAC,GAAkBA,IAAyBmN,KAAM,kBAAC,KAAD,OAC1IE,SAAgB,CAACrP,GAAG,WAAoBoL,MAAM,UAAoB8I,WAAW,SAAClS,GAAD,OAAW,kBAAC,GAAsBA,IAA6BmN,KAAM,kBAAC,KAAD,OAClJvL,eAAgB,CAAC5D,GAAG,iBAAoBoL,MAAM,kBAAoB8I,WAAW,SAAClS,GAAD,OAAW,kBAAC,GAA4BA,IAAmCmN,KAAM,kBAAC,KAAD,OAC9J/F,gBAAgB,CAACpJ,GAAG,kBAAoBoL,MAAM,mBAAoB8I,WAAW,SAAClS,GAAD,OAAW,kBAAC,GAA6BA,IAAoCmN,KAAM,kBAAC,KAAD,QAGrJiF,GAA0B,CACrCnK,QAAkB,UAClBS,cAAkB,UAClB0E,SAAkB,WAClBJ,gBAAkB,WAClBb,QAAkB,UAClB3K,aAAkB,UAClBsO,aAAkB,eAClB1I,gBAAkB,eAClBiG,SAAkB,WAClBzL,eAAkB,WAClB3C,cAAkB,gBAClBkT,KAAkB,QAGb,SAAe3U,GAAtB,mC,8CAAO,WAAwB7E,GAAxB,mBAAAC,EAAA,sEACkBF,EAAQC,GAD1B,cACC0Z,EADD,gBAEcA,EAFd,8BAGsBA,EAAStB,OAH/B,cAGCuB,EAHD,OAIC7U,EAAQ,IAAI8U,IAJb,KAKL9U,EALK,UAKgB,IAAI8U,IAAU,CAAEC,QAAS7Z,IAAM8Z,MAAMH,GALrD,gCAKChO,SALD,kCAME7G,GANF,6C,sBASP,IAAMiV,GAAgB,SAAAC,GAAK,OAAIA,EAAM,KAAOA,EAAM,GAAG1U,OAAOb,OAASuV,EAAM,GAAG1U,OAAOD,KAE/E4U,GAAiB,SAAAD,GAAK,OAAIA,GAASA,EAAM7U,KAAI,SAAAC,GAAI,OAAIA,EAAKE,OAAOb,OAASW,EAAKE,OAAOD,OAGrF,SAAeoD,GAAtB,mC,8CAAO,WAA+BpD,GAA/B,eAAApF,EAAA,sEACmB4E,GAASQ,GAD5B,UACC6U,EADD,YAEEA,GAFF,kCAGC7U,EAHD,KAIM0U,GAJN,SAI0BG,EAAUnV,SAASM,EAAI9B,EAAGpC,IAAI,YAJxD,mDAKW4Y,GALX,UAK+BG,EAAUnV,SAASM,EAAI9B,EAAGD,KAAK,iBAL9D,oDAMKyW,GANL,UAMyBG,EAAUnV,SAASM,EAAI9B,EAAGD,KAAK,WANxD,sDAOK2W,GAPL,UAO0BC,EAAUnV,SAASM,EAAI9B,EAAGH,IAAI,WAPxD,mDAOoE+B,KAAI,SAAAwE,GAAM,MAAO,CAACtE,GAAIsE,MAP1F,MAQMsQ,GARN,UAQ2BC,EAAUnV,SAASM,EAAI9B,EAAGD,KAAK,YAR1D,4CAQuE6B,KAAI,SAAAwE,GAAM,MAAO,CAACtE,GAAIsE,MAR7F,MAGHtE,GAHG,KAIHoQ,QAJG,KAKHgC,aALG,KAMH7N,OANG,MAOH4D,OAPG,MAQHE,QARG,2F,sBAuBA,SAAewL,GAAtB,mC,8CAAO,WAAkC7T,GAAlC,eAAApF,EAAA,sEACmB4E,GAASQ,GAD5B,UACC6U,EADD,YAEEA,GAFF,kCAGC7U,EAHD,KAIQ0U,GAJR,SAI4BG,EAAUnV,SAASM,EAAI9B,EAAGD,KAAK,cAJ3D,mDAKWyW,GALX,UAK+BG,EAAUnV,SAASM,EAAI9B,EAAGD,KAAK,iBAL9D,oDAMiByW,GANjB,UAMqCG,EAAUnV,SAASM,EAAI9B,EAAGD,KAAK,uBANpE,sDAOMyW,GAPN,UAO0BG,EAAUnV,SAASM,EAAI9B,EAAGlB,KAAK,YAPzD,kDAGHgD,GAHG,KAIH8U,UAJG,KAKH1C,aALG,KAMHK,mBANG,MAOHsC,QAPG,2F,sBAsBA,SAAenT,GAAtB,mC,8CAAO,WAAoCoT,GAApC,qBAAApa,EAAA,sDACCiH,EAAQ,GADT,MAEkB,CAAC,QAAS,SAAU,UAFtC,4CAEM4I,EAFN,MAGAuK,EAASvK,GAHT,oBAIkC,kBAAxBuK,EAASvK,GAJnB,yCAK4B/L,GAAKsW,EAASvK,IAAWjK,KALrD,mBAKCqB,EAAM4I,GALP,uDAMyC,kBAAxBuK,EAASvK,GAN1B,kCAOyB7I,GAAqBoT,EAASvK,IAPvD,QAOC5I,EAAM4I,GAPP,mEAWE5I,GAXF,6C,oCCzHDoT,I,OAAoB,CAAC,OAAQ,UA8BpBC,GA5Ba,SAAClT,GAAW,IAAD,EAEbhB,mBAASgB,EAAMmT,cAFF,mBAE9B7R,EAF8B,KAExBI,EAFwB,KAIhCJ,GAAQA,EAAKtD,KAAOgC,EAAMmT,aAAanV,IAC1C0D,EAAQ1B,EAAMmT,cAGhB,IAAM1R,EAAO,CAAEnE,MAAO0C,EAAM1C,MAAOoE,QAAS1B,EAAMoT,iBAClD,IAAK,IAAI3J,KAAQnI,EAAKG,MAAQ,GAC5BA,EAAKgI,GAAQnI,EAAKG,KAAKgI,GAWzB,OACE,yBAAKzL,GAAG,sBAAsBoC,UAAU,aACpCJ,EAAM1C,MAAQgE,EAAK4Q,WAAWzQ,GAVV,SAACH,GACzB,OAA4C,IAAxC2R,GAAkB7D,QAAQ9N,EAAKtD,IAC1BsD,EAAK4Q,WAAWzQ,GAElB,kBAAC,KAAD,CAAcjD,KAAM,UAMe6U,CAAkB/R,K,oFCI1DgS,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,QAAS,QAEXC,OAAQ,CACNC,OAAQJ,EAAMI,OAAOC,OAAS,EAC9BC,WAAYN,EAAMO,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDC,OAAQT,EAAMO,YAAYE,OAAOC,MACjCC,SAAUX,EAAMO,YAAYI,SAASC,iBAGzCC,YAAa,CACXC,WAdgB,IAehBC,MAAM,eAAD,OAfW,IAeX,OACLT,WAAYN,EAAMO,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDC,OAAQT,EAAMO,YAAYE,OAAOC,MACjCC,SAAUX,EAAMO,YAAYI,SAASK,kBAGzCC,WAAY,CACVC,YAAa,IAEfC,KAAM,CACJjB,QAAS,QAEXG,OAAQ,CACNU,MA5BgB,IA6BhBK,WAAY,EACZC,WAAY,UAEdC,WAAY,CACVP,MAjCgB,IAkChBT,WAAYN,EAAMO,YAAYC,OAAO,QAAS,CAC5CC,OAAQT,EAAMO,YAAYE,OAAOC,MACjCC,SAAUX,EAAMO,YAAYI,SAASK,kBAGzCO,YAAY,aACVjB,WAAYN,EAAMO,YAAYC,OAAO,QAAS,CAC5CC,OAAQT,EAAMO,YAAYE,OAAOC,MACjCC,SAAUX,EAAMO,YAAYI,SAASC,gBAEvCY,UAAW,SACXT,MAAOf,EAAMyB,QAAQ,GAAK,GACzBzB,EAAM0B,YAAYC,GAAG,MAAQ,CAC5BZ,MAAOf,EAAMyB,QAAQ,GAAK,IAG9BG,QAAQ,aACN1B,QAAS,OACT2B,WAAY,SACZC,eAAgB,WAChBC,QAAS/B,EAAMyB,QAAQ,EAAG,IAEvBzB,EAAMgC,OAAOJ,SAElBK,QAAS,CACPC,SAAU,EACVH,QAAS/B,EAAMyB,QAAQ,QAmJZU,GA/IIC,sBAAU,SAAC5V,GAAW,IAAD,IAChC6V,EAAUvC,KACVE,EAAQsC,cAFwB,EAGdC,IAAM/W,UAAS,GAHD,mBAG/B0S,EAH+B,KAGzBsE,EAHyB,OAKEhX,mBAASuC,GAAevB,EAAMiW,cAAgB1U,GAAe4Q,MAL/D,mBAK/BgB,EAL+B,KAKjBC,EALiB,KAMhCnU,EAAgBF,GAAiBiB,EAAM1C,OAGvC4Y,EAAW,SAACC,GAChBjZ,QAAQ5C,IAAI,SAAU8X,GAAwB+D,MAC9CjZ,QAAQ5C,IAAI,YAAa6b,EAAMhD,IAiC3BiD,GADepW,EAAMqW,cAAgB,CAAC,UAAW,WAAY,UAAW,eAAgB,UAAW,KAAM,UAAW,aACnFvY,KAAI,SAAAwE,GAAC,OA9BhB,SAACgU,GAAc,IAAD,EACxC,GAAiB,YAAbA,EAAwB,OAAQ,kBAACC,EAAA,EAAD,MACpC,GAAiB,OAAbD,EAAmB,OAAQ,6BAC/B,IAAMH,EAAO5U,GAAe+U,GAC5B,OACE,kBAACE,EAAA,GAAD,GAAUC,QAAQ,EAAMrW,UAAW8V,EAASC,GAAQ,SAAW,aAA/D,+CAAwFG,GAAxF,yBAA4G,kBAAMlD,EAAgB+C,MAAlI,GACE,kBAACO,EAAA,EAAD,KAAeP,EAAKhJ,MACpB,kBAACwJ,EAAA,EAAD,CAAcC,QAAST,EAAK/M,SAuBcyN,CAAoBvU,MAG9DwU,GADc9W,EAAM+W,aAAe,CAAC,gBAAiB,SACtBjZ,KAAI,SAACwE,EAAG0U,GAAJ,OArBd,SAACV,EAAUU,GACpC,IAAMb,EAAO5U,GAAe+U,GACtBlW,EAAsB,IAAV4W,EAAc,8BAAgC,cAChE,OACE,kBAACzN,GAAA,EAAD,CAAUnJ,UAAWA,EAAWW,QAAS,kBAAMqS,EAAgB+C,KAC7D,kBAACc,EAAA,EAAD,CAAYC,aAAYf,EAAK/M,MAAOqC,MAAM,WAC1B,kBAAb6K,EACG,kBAACa,GAAA,EAAD,CAAOC,aAAcnY,EAActB,OAAQ8N,MAAM,aAC9C0K,EAAKhJ,MAERgJ,EAAKhJ,OAWsCkK,CAAmB/U,EAAG0U,MAW7E,OACE,yBAAK5W,UAAWyV,EAAQpC,MACtB,kBAAC6D,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,CACEC,SAAS,QACTpX,UAAWqX,YAAK5B,EAAQlC,OAAT,eACZkC,EAAQxB,YAAc3C,KAGzB,kBAACgG,EAAA,EAAD,KACE,kBAACT,EAAA,EAAD,CACExL,MAAM,UACNyL,aAAW,cACXnW,QAtBe,WACvBiV,GAAQ,IAsBA2B,KAAK,QACLvX,UAAWqX,YAAK5B,EAAQpB,WAAT,eACZoB,EAAQlB,KAAOjD,KAGlB,kBAAC,IAAD,OAEF,kBAACkG,EAAA,EAAD,CAAYC,QAAQ,KAAKC,QAAM,GAA/B,sBAKA,kBAACC,GAAA,EAAOC,MAAR,CAAcrX,KAAK,6BACjB,yBACEsX,IAAI,GACJ1D,MAAM,OACN1T,IAAKqX,OACJ,KAGL,kBAACH,GAAA,EAAOC,MAAR,CAAcrX,KAAK,oCACjB,yBACEsX,IAAI,GACJpX,IAAKsX,KACLC,OAAO,SACN,KAGJtB,EACA9W,EAAMqY,WACH,8BACA,kBAAC9O,GAAA,EAAD,CAAUnJ,UAAU,eAClB,kBAACkY,GAAA,EAAD,CAAclY,UAAU,oBAKlC,kBAACmY,EAAA,EAAD,CACEV,QAAQ,YACRzX,UAAS,UAAKqX,YAAK5B,EAAQhC,QAAT,mBACfgC,EAAQf,WAAapD,GADN,cAEfmE,EAAQd,aAAerD,GAFR,IAAT,YAITmE,QAAS,CACP2C,MAAOf,aAAI,mBACR5B,EAAQf,WAAapD,GADb,cAERmE,EAAQd,aAAerD,GAFf,MAMb,kBAACgG,EAAA,EAAD,CAAStX,UAAS,UAAKyV,EAAQT,QAAb,kBAChB,kBAAC6B,EAAA,EAAD,CAAYlW,QAtEM,WACxBiV,GAAQ,KAsEqB,QAApBxC,EAAMiF,UAAsB,kBAAC,IAAD,MAAuB,kBAAC,IAAD,QAGxD,kBAAClC,EAAA,EAAD,MACA,yBAAKnW,UAAU,kBACb,kBAACsY,EAAA,EAAD,KACGtC,GAEH,kBAACG,EAAA,EAAD,QAGJ,0BAAMnW,UAAWyV,EAAQJ,SACvB,kBAACiC,EAAA,EAAD,MACA,kBAAC,GAAD,CAAqBpa,MAAO0C,EAAM1C,MAAO6V,aAAcA,EAAcC,gBAAkBA,SCvNhFuF,OAbf,WACE,OACE,yBAAKvY,UAAU,OACb,kBAACwY,EAAA,EAAD,KACE,kBAAC,GAAD,CAAY3C,YAAY,UAE1B,kBAAC4C,EAAA,EAAD,KACE,kBAAC,GAAD,CAAY5C,YAAY,QAAQI,aAAc,CAAC,QAAS,QAASU,YAAa,CAAC,QAASsB,YAAY,OCAxFS,QACW,cAA7B1M,OAAOjJ,SAAS4V,UAEe,UAA7B3M,OAAOjJ,SAAS4V,UAEhB3M,OAAOjJ,SAAS4V,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,GAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBrX,MAAK,SAAAsX,GACJA,EAAaC,gBAEdtR,OAAM,SAAAjL,GACLD,QAAQC,MAAMA,EAAMwc,c","file":"static/js/main.5fba203f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"profilecard_container__4R2nr\",\"propertylabel\":\"profilecard_propertylabel__FjYnN\",\"valuelabel\":\"profilecard_valuelabel__k0k0Y\",\"listitem\":\"profilecard_listitem__C-fpw\",\"rowcontainer\":\"profilecard_rowcontainer__NIioM\",\"profilecardrow\":\"profilecard_profilecardrow__3eJ5U\"};","module.exports = __webpack_public_path__ + \"static/media/solid-emblem.52659242.svg\";","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"entrycontainer\":\"marriageview_entrycontainer__3yQxo\",\"profilecontainer\":\"marriageview_profilecontainer__36GPO\",\"accept\":\"marriageview_accept__3V0c_\",\"refuse\":\"marriageview_refuse__2lqar\",\"delete\":\"marriageview_delete__1FaK6\"};","const auth = require('solid-auth-client')\nconst ORIGIN = 'http://localhost:3000'\n\nexport async function getFile(URI) {\n  // console.log(\"getting\", URI)\n  return await auth.fetch(URI, {\n    method: \"GET\",\n    headers: {\n      Origin: ORIGIN,\n      \"Content-Type\": \"text/turtle\"\n    },\n  });\n}\n\nexport async function patchFile(URI, body) {\n  // console.log(\"patching\", URI, \"with\", body)\n  return await auth.fetch(URI, {\n    method: \"PATCH\",\n    headers: {\n      Origin: ORIGIN,\n      \"Content-Type\": \"application/sparql-update\"\n    },\n    body: body\n  });\n}\n\n// TODO: automatically create directories using solid-file-client\nexport async function putFile(URI, body) {\n  // console.log(\"putting to\", URI, \"with\", body)\n  return await auth.fetch(URI, {\n    method: \"PUT\",\n    headers: {\n      Origin: ORIGIN,\n      \"Content-Type\": \"text/turtle\"\n    },\n    body: body\n  });\n}\n\n\n// TODO: automatically create directories using solid-file-client\nexport async function postFile(URI, body) {\n  // console.log(\"posting to\", URI, \"with\", body)\n  return await auth.fetch(URI, {\n    method: \"POST\",\n    headers: {\n      Origin: ORIGIN,\n      \"Content-Type\": \"text/turtle\"\n    },\n    body: body\n  });\n}\n\n// TODO: automatically create directories using solid-file-client\nexport async function deleteFile(URI) {\n  // console.log(\"deleting \", URI)\n  return await auth.fetch(URI, {\n    method: \"DELETE\",\n    headers: {\n      Origin: ORIGIN,\n    },\n  });\n}","/**\n * Provides a way to access commonly used namespaces\n *\n * Usage:\n *\n *   ```\n *   const $rdf = require('rdflib'); //or any other RDF/JS-compatible library\n *   const ns = require('solid-namespace')($rdf);\n *   const store = $rdf.graph();\n *\n *   let me = ...;\n *   let name = store.any(me, ns.vcard(‘fn’)) || store.any(me, ns.foaf(‘name’));\n *   ```\n * @module vocab\n */\nconst aliases = {\n  acl: 'http://www.w3.org/ns/auth/acl#',\n  arg: 'http://www.w3.org/ns/pim/arg#',\n  as: 'https://www.w3.org/ns/activitystreams#',\n  cal: 'http://www.w3.org/2002/12/cal/ical#',\n  cert: 'http://www.w3.org/ns/auth/cert#',\n  contact: 'http://www.w3.org/2000/10/swap/pim/contact#',\n  dc: 'http://purl.org/dc/elements/1.1/',\n  dct: 'http://purl.org/dc/terms/',\n  doap: 'http://usefulinc.com/ns/doap#',\n  foaf: 'http://xmlns.com/foaf/0.1/',\n  http: 'http://www.w3.org/2007/ont/http#',\n  httph: 'http://www.w3.org/2007/ont/httph#',\n  icalTZ: 'http://www.w3.org/2002/12/cal/icaltzd#', // Beware: not cal:\n  ldp: 'http://www.w3.org/ns/ldp#',\n  link: 'http://www.w3.org/2007/ont/link#',\n  log: 'http://www.w3.org/2000/10/swap/log#',\n  meeting: 'http://www.w3.org/ns/pim/meeting#',\n  mo: 'http://purl.org/ontology/mo/',\n  owl: 'http://www.w3.org/2002/07/owl#',\n  pad: 'http://www.w3.org/ns/pim/pad#',\n  patch: 'http://www.w3.org/ns/pim/patch#',\n  prov: 'http://www.w3.org/ns/prov#',\n  qu: 'http://www.w3.org/2000/10/swap/pim/qif#',\n  trip: 'http://www.w3.org/ns/pim/trip#',\n  rdf: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n  rdfs: 'http://www.w3.org/2000/01/rdf-schema#',\n  rss: 'http://purl.org/rss/1.0/',\n  sched: 'http://www.w3.org/ns/pim/schedule#',\n  schema: 'http://schema.org/', // @@ beware confusion with documents no 303\n  sioc: 'http://rdfs.org/sioc/ns#',\n  solid: 'http://www.w3.org/ns/solid/terms#',\n  space: 'http://www.w3.org/ns/pim/space#',\n  stat: 'http://www.w3.org/ns/posix/stat#',\n  tab: 'http://www.w3.org/2007/ont/link#',\n  tabont: 'http://www.w3.org/2007/ont/link#',\n  ui: 'http://www.w3.org/ns/ui#',\n  vcard: 'http://www.w3.org/2006/vcard/ns#',\n  wf: 'http://www.w3.org/2005/01/wf/flow#',\n  xsd: 'http://www.w3.org/2001/XMLSchema#',\n  cco: 'http://www.ontologyrepository.com/CommonCoreOntologies/',\n\n  dbo : 'http://dbpedia.org/ontology/',\n  ex : 'http://example.com/',\n  demo: 'http://semicdemo.example/',\n  as: 'https://www.w3.org/ns/activitystreams#'\n}\n\n/**\n * @param [rdflib] {RDF} Optional RDF Library (such as rdflib.js or rdf-ext) to inject\n */\nconst vocab = function (rdf = { namedNode: u => u }) {\n  const namespaces = {}\n  for (const alias in aliases) {\n    const expansion = aliases[alias]\n    namespaces[alias] = function (localName = '') {\n      return rdf.namedNode(expansion + localName)\n    }\n  };\n\n  return namespaces\n};\n\nconst ns = vocab()\nexport default ns ","import { postFile } from \"./FileUtil\";\nimport { getStore } from \"../util/Util\"\nimport ns from \"../util/NameSpaces\"\nconst { default: data } = require('@solid/query-ldflex');\n\nexport default async function notify(notificationBody, subjects) {\n  for (let subject of subjects) {\n    const inbox = await getInbox(subject);\n    if (inbox) postFile(inbox, notificationBody)\n  }\n}\n\nasync function getInbox(subject){\n  console.log('getting inbox', subject)\n  const inbox = await data[subject][ns.ldp('inbox')]\n  if(!inbox) console.error(subject + ' does not profide an inbox.')\n  return inbox && inbox.value\n}\n\nexport async function checkNewNotifications(webId, currentNotifications) {\n  if(!currentNotifications) return true\n  const inbox = await getInbox(webId)\n  if(!inbox) return false\n  const store = await getStore(inbox)\n  let notificationsMetadata = await store.getQuads(inbox, ns.ldp('contains'))\n  if (notificationsMetadata.length === currentNotifications.length) return false;\n  return true\n}\n\nexport async function getNotificationMetadata(webId) {\n  const inbox = await getInbox(webId)\n  if(!inbox) return []\n  const store = await getStore(inbox)\n  let notificationsMetadata = await store.getQuads(inbox, ns.ldp('contains'))\n  notificationsMetadata = notificationsMetadata.map(quad => { return ( {id: quad.object.value})})\n  for (let metadata of notificationsMetadata ) {\n    const modified = await store.getQuads(metadata.id, ns.dct('modified'), null)\n    metadata['modified'] = modified && modified[0].object.value\n  }\n  return notificationsMetadata\n}\n\nexport async function getNotification(notificationId) {\n  const store = await getStore(notificationId)\n  return await getRecursiveActivity(store, notificationId)\n}\n\nasync function getRecursiveActivity(store, id){\n  let type = await getStoreEntry(store, id, ns.rdf('type'))\n  let actor = await getStoreEntry(store, id, ns.as('actor'))\n  let object = await getStoreEntry(store, id, ns.as('object'))\n  let target = await getStoreEntry(store, id, ns.as('target'))\n  let summary = await getStoreEntry(store, id, ns.as('summary'))\n  type = type && type.value\n  summary = summary && summary.value\n  actor = actor && actor.termType == 'BlankNode' ? await getRecursiveActivity(store, actor.id) : actor && actor.value\n  object = object && object.termType == 'BlankNode' ? await getRecursiveActivity(store, object.id) : object && object.value\n  target = target && target.termType == 'BlankNode' ? await getRecursiveActivity(store, target.id) : target && target.value\n  return { type, actor, object, target, summary }\n}\n\nasync function getStoreEntry(store, id, predicate){\n  const p = await store.getQuads(id, predicate, null)\n  return (p && p.length && p[0].object || null)\n}\n","import { useState, useEffect } from 'react';\nimport { getNotificationMetadata, getNotification, checkNewNotifications } from '../util/notifications';\nimport { getNotificationTypes } from '../util/Util';\n\nconst useNotifications = function(webId) {\n  const [notifications, setNotifications] = useState([]);\n\n  useEffect(() => {\n    updateNotifications(webId, notifications)\n    const interval = setInterval(() => { \n      updateNotifications(webId, notifications)\n    }, 15000);\n    return () => {\n      clearInterval(interval);\n    }\n  }, [webId, notifications])  \n\n  return notifications\n\n  // TODO:: dont fetch notifications that have already been fetched\n\n  async function updateNotifications(webId, currentNotifications){\n    if(webId && await checkNewNotifications(webId, currentNotifications)) {\n      const updatedNotifications = await fetchNotifications(webId)\n      setNotifications(updatedNotifications)\n    }\n  }\n\n  async function fetchNotifications(webId){ \n    const notificationsMetadata = await getNotificationMetadata(webId)\n    if(!notificationsMetadata) return []\n    const notificationList = []\n    for await (const metadata of notificationsMetadata){\n      const notification = await getNotification(metadata.id)\n      metadata.types = await getNotificationTypes(notification)\n      notification.metadata = metadata\n      notificationList.push(notification)\n    }\n    return notificationList\n  }  \n}\n\nexport default useNotifications","import React from 'react'\nimport useNotifications from '../hooks/useNotifications'\n\n// import { Col, Row, Grid } from 'react-flexbox-grid'\nimport styles from '../css/components/notificationcard.module.css'\nimport { Button, Row, Col } from 'react-bootstrap'\nimport { Value } from '@solid/react';\n\nimport ns from \"../util/NameSpaces\"\n\nimport { availableViews, getContractData, getNotificationTypes } from '../util/Util'\n\nconst NotificationsViewerComponent = (props) => {\n\n  const notifications = useNotifications(props.webId)\n  // Sort on notification modified (= created normally) in reverse order to get newest first\n  const sortednotifications = notifications.sort( (a, b) => new Date(b.metadata.modified) - new Date(a.metadata.modified))\n  return (\n    <div id=\"notificationsviewercomponent\" className='container'>\n      <h4> Notifications </h4>\n      <br />\n      <Row className='propertyview pageheader' key={'header'}>\n        <Col md={2}><label className=\"leftaligntext\"><b>Type</b></label></Col>\n        <Col md={2}><label className=\"leftaligntext\">Sender</label></Col>\n        <Col md={6}><label className=\"leftaligntext\">Summary</label></Col>\n        <Col md={2}><label className=\"centeraligntext\">Action</label></Col>\n      </Row>\n      {notifications.map(notification => {\n        return ( <NotificationCard notification={notification} {...props} key={notification.metadata.id}/> )\n      })}\n      \n    </div>\n  )\n}\n\nexport default NotificationsViewerComponent\n\nconst NotificationCard = (props) => {\n  const notification = props.notification\n  // TODO;; this will fail if you have no view access to the contract\n  function getButton() {\n    switch (notification.type) {\n      case ns.as('Accept'):\n        return (<Button className={'centeraligntext'} onClick={() => viewmarriage(notification.target)}>See progress</Button>)\n      case ns.as('Reject'):\n        return (<Button className={'centeraligntext'} onClick={() => viewmarriage(notification.target)}>See progress</Button>)\n      case ns.as('Offer'):\n        return (<Button className={'centeraligntext'} onClick={() => viewmarriage(notification.target)}>See offer</Button>)\n      case ns.as('Announce'):\n        return (<Button className={'centeraligntext'} onClick={() => viewsubmission(notification.object.object)}>See submission</Button>)\n      default:\n        return (<div />)\n    }\n  }\n\n  return (\n    <div className={`NotificationCard`}>\n      <Row className='propertyview' key={notification.metadata.id}>\n        <Col md={2}><label className='leftaligntext'><b>{notification.type.split('#')[1]}</b></label></Col>\n        <Col md={2}><label className='leftaligntext'><a href={notification.actor}><Value src={`[${notification.actor}].name`}/></a></label></Col>\n        <Col md={6}><label className='leftaligntext'>{notification.summary}</label></Col>\n        <Col md={2}>{getButton()}</Col>\n      </Row>\n    </div>\n  )\n\n  async function viewmarriage(marriageId) {\n    const contract = await getContractData(marriageId) \n    const view = availableViews.marriageview\n    view.args = {contract: contract}\n    props.setview(view)\n  }\n\n  async function viewsubmission(submissionId) {\n    const contract = await getContractData(submissionId) \n    const view = availableViews.submissionview\n    view.args = {contract: contract}\n    props.setview(view)\n  }\n}","import { useState, useEffect } from 'react';\n\nimport ns from \"../util/NameSpaces\"\nimport { getContractData } from '../util/Util';\n\nconst { default: data } = require('@solid/query-ldflex');\n\nconst useContracts = function(webId) {\n  const [contracts, setContracts] = useState([]);\n  \n  useEffect(() => {\n    let mounted = true\n    async function fetchInProgress(webId){ \n      webId = await webId;\n      data.clearCache() // data.clearCache(webId)\n      let contracts = []\n      for await (const contractId of data[webId][ns.demo('hasContract')]){\n        const contract = await getContractData(contractId && contractId.value)\n        contracts.push(contract)\n      }\n      return contracts\n    }\n    fetchInProgress(webId).then(contracts => {\n      setContracts(contracts)\n    })\n    return () => {\n      mounted = false\n    }\n  }, [webId])  \n  return contracts\n}\n\nexport default useContracts","import React from 'react'\nimport { Button, Row, Col } from 'react-bootstrap'\n\nimport ns from \"../util/NameSpaces\"\nimport '../css/InProgressViewerComponent.css'\nimport useContracts from '../hooks/useContracts'\nimport { availableViews } from '../util/Util'\n\nconst InProgressViewerComponent = (props) => {\n\n  const userContracts = useContracts(props.webId)\n  const contracts = userContracts.filter(e => !e.status || e.status === ns.demo('proposal'))\n\n  const viewMarriage = function(contract){\n    const view = availableViews.marriageview\n    view.args = {contract: contract}\n    props.setview(view)\n  }\n\n  return (\n    <div id=\"InProgressViewerComponent\" className='container'>\n      <h4>In Progress</h4>\n      <br />\n      <Row className='propertyview pageheader' key={'header'}>\n        <Col md={3}><label className=\"leftaligntext\"><b>Contract type</b></label></Col>\n        <Col md={5}><label className=\"leftaligntext\">Current status</label></Col>\n        <Col md={2}><label className=\"centeraligntext\">Action</label></Col>\n      </Row>\n      {contracts.map(contract => {\n        return (  \n          <Row className='propertyview ' key={contract.id}>\n            <Col md={3}><label className=\"leftaligntext\"><b>marriage proposal</b></label></Col>\n            <Col md={5}><label className=\"leftaligntext\">in progress</label></Col>\n            <Col md={2}><Button onClick={() => viewMarriage(contract)} className='centeraligntext'>see progress</Button></Col>\n          </Row>\n        )\n      })}\n     \n    </div>\n  )\n}\n\nexport default InProgressViewerComponent\n","import { DataFactory, Writer, Quad } from \"n3\";\nimport ns from \"../util/NameSpaces\"\n\nconst { default: data } = require('@solid/query-ldflex');\n\nconst { namedNode, literal, quad, variable } = DataFactory;\n\nexport async function createDeleteInsertProfileDataQuery(webId, oldprofile, newprofile) {\n  const deleteClause = []\n  // const insertClause = []\n  \n  const insertClause = [\n    quad(namedNode(webId), namedNode(ns.foaf('name')), literal(newprofile.name)),\n    quad(namedNode(webId), namedNode(ns.dbo('birthDate')), literal(newprofile.bdate, namedNode(ns.xsd('date')))),\n    quad(namedNode(webId), namedNode(ns.dbo('location')), literal(newprofile.location)),\n    quad(namedNode(webId), namedNode(ns.demo('civilstatus')), literal(newprofile.cstatus)),\n  ]\n\n  if (oldprofile.name) {\n    deleteClause.push(quad(namedNode(webId), namedNode(ns.foaf('name')), literal(oldprofile.name)))\n  } if (oldprofile.bdate) {\n    deleteClause.push(quad(namedNode(webId), namedNode(ns.dbo('birthDate')), literal(oldprofile.bdate, namedNode(ns.xsd('date')))))\n  } if (oldprofile.location) {\n    deleteClause.push(quad(namedNode(webId), namedNode(ns.dbo('location')), literal(oldprofile.location)))\n  } if (oldprofile.cstatus) {\n    deleteClause.push(quad(namedNode(webId), namedNode(ns.demo('civilstatus')), literal(oldprofile.cstatus)))\n  }\n\n  const deleteClauseString = deleteClause.length ? `DELETE { ${await quadListToTTL(deleteClause)} }` : ''\n  const insertClauseString = insertClause.length ? `INSERT { ${await quadListToTTL(insertClause)} }` : ''\n  const whereClauseString = deleteClause.length ? `WHERE { ${await quadListToTTL(deleteClause)} }` : ''\n\n\n  return(`\n    ${deleteClauseString}\n    ${insertClauseString}\n    ${whereClauseString}\n  `)\n}\n\n\n/**\n * \n * @param {*} publicOrganisation An object containing the id, label and location of a public organisation\n * @param {*} proposalId The identifier of the marriage proposal that is to be confirmed\n */\nexport async function createMarriageConfirmation(publicOrganisation, proposalId){\n  const quadList = [ \n    quad(namedNode(publicOrganisation.id), namedNode(ns.rdf('type')), namedNode(ns.demo('publicOrganisation'))), \n    quad(namedNode(publicOrganisation.id), namedNode(ns.rdfs('label')), literal(publicOrganisation.label)), \n    quad(namedNode(publicOrganisation.id), namedNode(ns.dbo('location')), namedNode(publicOrganisation.location)), \n    quad(namedNode(publicOrganisation.id), namedNode(ns.demo('confirms')), namedNode(publicOrganisation.location)), \n  ]\n  return await quadListToTTL(quadList);\n}\n\nexport async function isConfirmedMarriageProposal(webId, proposalId){\n  const quadList = [ quad(namedNode(proposalId), namedNode(ns.demo('isConfirmedBy')), namedNode(webId)) ]\n  return await quadListToTTL(quadList);\n}\n\nexport async function confirmMarriageProposal(webId, proposalId){\n  const quadList = [ quad(namedNode(webId), namedNode(ns.demo('confirms')), namedNode(proposalId)) ]\n  return await quadListToTTL(quadList);\n}\n\nexport async function createCertifiedProposalPatch(webId, proposalId){\n  const quadList = [ quad(namedNode(webId), namedNode(ns.demo('certified')), namedNode(proposalId)) ]\n  return `INSERT { ${await quadListToTTL(quadList)} } `;\n}\n\n\n\nexport async function createMarriagePropsalAcceptedNotification(webId, proposalId){\n  const quadList = [\n    quad(namedNode(''), namedNode(ns.as('summary')), literal(\"Acceptance of marriage proposal\")),\n    quad(namedNode(''), namedNode(ns.as('type')), namedNode(ns.as('Accept'))),\n    quad(namedNode(''), namedNode(ns.as('actor')), namedNode(webId)),\n    quad(namedNode(''), namedNode(ns.as('object')), namedNode(proposalId)),\n  ]\n  return await quadListToTTL(quadList);\n}\n\n\n/**\n * Create patch for the status of the marriage contract proposal.\n * @param {'pending' | 'sumitted' | 'accepted' | 'refused'} newStatus \n */\nexport async function createContractStatusPatch(contractId, newStatus) {\n  const statusvar = variable(\"status\")\n  const deleteClause = [quad(namedNode(contractId), namedNode(ns.demo('status')), statusvar)]\n  const insertClause = [quad(namedNode(contractId), namedNode(ns.demo('status')), namedNode(newStatus))]\n  return(`\n    ${`DELETE { ${await quadListToTTL(deleteClause)} }`}\n    ${`INSERT { ${await quadListToTTL(insertClause)} }`}\n    ${`WHERE { ${await quadListToTTL(deleteClause)} }`}\n  `)\n}\n\n\nexport async function createCertifiedByPatch(contractId, certificateId) {\n  const insertClause = [quad(namedNode(contractId), namedNode(ns.demo('certified_by')), namedNode(certificateId))]\n  return(`\n    ${`INSERT { ${await quadListToTTL(insertClause)} }`}\n  `)\n}\n\n\n\nexport async function quadListToTTL(quadList) { \n  return new Promise((resolve, reject) => {\n    const writer = new Writer();\n    writer.addQuads(quadList)\n    writer.end((error, result) => {\n      if (error || !result) reject(error || \"Could not generate ttl file from quads\")\n      resolve(result)\n    });\n  })\n}","import { DataFactory, Writer, Quad, Variable } from \"n3\";\nimport { putFile, patchFile, deleteFile } from \"./FileUtil\";\nimport { quadListToTTL, createContractStatusPatch, createCertifiedProposalPatch, createCertifiedByPatch } from \"./QueryUtil\";\nimport ns from \"../util/NameSpaces\"\nimport notify from \"./notifications\";\nimport { getContractData } from \"./Util\";\n\nconst { namedNode, blankNode, literal, quad, variable} = DataFactory;\n\n/**\n * \n * @param {*} proposalData : [{ label: \"Spouse\" | \"Witness\", type: \"spouse\" | \"witness\", webID: string, id: number}]\n */\nexport async function createMarriageProposal(proposalData, storageLocation, webId) {\n  let proposalId = storageLocation.endsWith('/') ? storageLocation : storageLocation + '/'\n  proposalId = proposalId + getProposalName()\n  if (proposalData.filter(e => e.type === 'spouse').length !== 2) throw new Error('A proposal requires 2 spouses to be specified.')\n  if (proposalData.filter(e => e.type === 'witness').length < 1) throw new Error('A proposal requires at least one witness to be specified.')\n  \n  // Create file with proposal on proposalId\n  const postbody = await createMarriagePropsalBody(proposalData, webId)\n  const post = await putFile(proposalId, postbody)\n\n  // Patch profile with information on created proposal\n  const patchbody = await createMarriageProfilePatch(webId, proposalId)\n  const patch = await patchFile(webId, patchbody)\n\n  // Create and send notifications to all parties involved\n  for (let contact of proposalData){\n    const contactId = contact.webId\n    const notification = await createMarriageContractInvitation(webId, contactId, proposalId)\n    notify(notification, [contactId])\n  }\n}\n\nexport async function deleteMarriageProposal(proposalId, webId) {\n  // Remove proposal and patch profile to remove reference.\n  const patchbody = await deleteMarriageProfilePatch(webId, proposalId)\n  const result = await deleteFile(proposalId)\n  const patch = await patchFile(webId, patchbody)\n}\n\n/**\n * Accept the invitation of the marriage proposal to be a spouse / witness\n * @param {string} webId - The WebId of the invitee\n * @param {string} proposalId - The URI of the proposal\n */\nexport async function acceptProposal(webId, proposalId, authorId) {\n  const patchbody = 'INSERT {' + await quadListToTTL([quad(namedNode(webId), namedNode(ns.demo('accepted')), namedNode(proposalId))]) + ' }';\n  const patch = await patchFile(webId, patchbody)\n  const notification = await createAcceptanceNotification(webId, proposalId, authorId)\n  notify(notification, [authorId])\n}\n\n/**\n * Refuse the invitation of the marriage proposal to be a spouse / witness\n * @param {string} webId - The WebId of the invitee\n * @param {string} proposalId - The URI of the proposal\n */\nexport async function refuseProposal(webId, proposalId, authorId) {\n  const patchbody = 'INSERT {' + await quadListToTTL([quad(namedNode(webId), namedNode(ns.demo('refused')), namedNode(proposalId))]) + ' }';\n  const patch = await patchFile(webId, patchbody)\n  const notification = await createRejectionNotification(webId, proposalId, authorId)\n  notify(notification, [authorId])\n}\n\nexport async function submitProposal(webId, contractId, officialId) {\n  // Create submission notification\n  const notification = createMarriageContractSubmissionNotification(webId, contractId, officialId)\n  await notify(notification, [officialId])\n\n  // update marriage contract proposal to submitted\n  await updateMarriageContractStatus(contractId, \"submitted\")\n}\n\n/**\n * \n * @param {string} webId - webId of the official \n * @param {string} proposalId - URI of the marriage certification proposal\n * @param {string} storageLocation - Location where the certification needs to be stored\n */\nexport async function certifyProposal(webId, proposalId, storageLocation){\n  // Create certification file\n  const body = await createMarriageCertificateBody(webId, proposalId);\n  const certificateURI = storageLocation + getCertificateName();\n  // Store certification file\n  const response = await putFile(certificateURI, body)\n\n  // Update official profile with triple indicating done certification\n  const patchbody = await createCertifiedProposalPatch(webId, proposalId)\n  const patch = await patchFile(webId, patchbody)\n\n  // Create certification notification\n  const contract = await getContractData(proposalId)\n  const notificationTargets = contract.spouse.map(e => e.id).concat(contract.witness.map(e => e.id))\n  const notification = await createCertificateProposalConfirmationNotification(webId, certificateURI, proposalId, notificationTargets)\n  // Send notification to witnesses + spouses\n  notify(notification, notificationTargets)\n}\n\n/**\n * \n * @param {string} webId - webId of the official \n * @param {string} proposalId - URI of the marriage certification proposal\n * @param {string} storageLocation - Location where the certification needs to be stored\n */\nexport async function rejectProposal(webId, proposalId, storageLocation){\n  // Create rejection notification\n  createCertificateProposalRejectionNotification()\n  // send notification to witnesses + spouses\n\n  // TODO:: Store that has been rejected so no repeat requests can be done?\n\n}\n\n/**\n * Update the status of the marriage contract proposal.\n * @param {'pending' | 'sumitted' | 'accepted' | 'refused'} newStatus \n */\nexport async function updateMarriageContractStatus(contractId, newStatus) {\n  const status = ns.demo(newStatus)\n  const patchbody = await createContractStatusPatch(contractId, status);\n  const patch = await patchFile(contractId, patchbody)\n  return patch.status\n}\n\n/**\n * \n * @param {string} proposalId - id of the proposal\n * @param {string} certificateId - id of the validating official\n * @param {'accepted' | 'refused'} status \n */\nexport async function setProposalValidatedBy(proposalId, certificateId, status) {\n  // Update contract status\n  const result = await updateMarriageContractStatus(proposalId, status)\n  // Set certification reference\n  const patchBody = await createCertifiedByPatch(proposalId, certificateId)\n  const patch = await patchFile(proposalId, patchBody);\n  return patch.status\n}\n\n\nexport function createAcceptanceNotification(webId, proposalId, authorId){\n  return `\n    @prefix as: <https://www.w3.org/ns/activitystreams#> .\n    <> a as:Accept ;\n      as:actor <${webId}> ;\n      as:object [ \n        a as:Invite ;\n        as:actor <${authorId}> ;\n        as:object <${webId}> ;\n        as:target <${proposalId}> ;\n      ] ;\n      as:target <${proposalId}> ;\n      as:summary \"Acceptance of the offer to participate in the marriage contract\" .\n  `\n}\n\nexport function createRejectionNotification(webId, proposalId, authorId){\n  return `\n    @prefix as: <https://www.w3.org/ns/activitystreams#> .\n    <> a as:Reject ;\n      as:actor <${webId}> ;\n      as:object [ \n        a as:Invite ;\n        as:actor <${authorId}>  ;\n        as:object <${webId}> ;\n        as:target <${proposalId}> ;\n      ] ;\n      as:target <${proposalId}> ;\n      as:summary \"Rejection of the offer to participate in the marriage contract\" .\n  `\n}\n\nexport function createMarriageContractInvitation(webId, contactId, marriageContractId){\n  return `\n    @prefix as: <https://www.w3.org/ns/activitystreams#> .\n    <> a as:Offer ;\n      as:actor <${webId}> ;\n      as:object <${contactId}> ;\n      as:target <${marriageContractId}> ;\n      as:summary \"Offer to participate in the marriage contract\" .\n  `\n}\n\n\nexport function createMarriageContractSubmissionNotification(webId, marriageContractId, officialId){\n  return `\n    @prefix as: <https://www.w3.org/ns/activitystreams#> .\n    <> a as:Announce ;\n      as:actor <${webId}> ;\n      as:object [ \n        a as:Create ;\n        as:actor <${webId}>  ;\n        as:object <${marriageContractId}> ;\n      ] ;\n      as:target <${officialId}> ;\n      as:summary \"Announcement that Marriage Contract Proposal is ready to be evaluated\" .\n  `\n}\n\n\nexport function createCertificateProposalConfirmationNotification(webId, certificateId, marriageContractId, targets){\n  // webId == id of the official\n  return `\n    @prefix as: <https://www.w3.org/ns/activitystreams#> .\n    <> a as:Announce ;\n      as:actor <${webId}> ;\n      as:object [ \n        a as:Create ;\n        as:actor <${webId}>  ;\n        as:object <${certificateId}> ;\n        as:target <${marriageContractId}> ;\n      ] ;\n      as:target ${targets.map(e => `<${e}>`).join(', ')} ;\n      as:summary \"Announcement of approval and creation of certificate for Marriage Contract Proposal\" .\n  `\n}\n\nasync function createMarriageCertificateBody(webId, proposalId){\n  return `\n  <> a <${ns.demo('Certificate')}> ;\n    <${ns.demo('certifies')}> <${proposalId}> ;\n    <${ns.demo('certified_by')}> <${webId}> ;\n    <${ns.demo('certification_date')}> \"${new Date().toISOString()}\"^^<${ns.xsd('dateTime')}> ;\n    <${ns.rdfs('comment')}> \"This is a certificate for the Marriage proposal ${proposalId} by ${webId}\" .\n  `\n}\n\n\nexport function createCertificateProposalRejectionNotification(webId, marriageContractId, targets){\n  // webId == id of the official\n  return `\n    @prefix as: <https://www.w3.org/ns/activitystreams#> .\n    <> a as:Announce ;\n      as:actor <${webId}> ;\n      as:object [ \n        a as:Reject ;\n        as:actor <${webId}>  ;\n        as:object <${marriageContractId}> ;\n      ] ;\n      as:target ${targets.map(e => `<${e}>`).join(', ')} ;\n      as:summary \"Announcement of rejection for Marriage Contract Proposal\" .\n  `\n}\n\n/**\n * HELPER FUNCTIONS\n */\n\n /**\n  * Get unique proposal file name\n  */\nconst getProposalName = () => {\n  const s = \"marriageproposal\" + new Date().toISOString()\n  return encodeURIComponent(s) + '.ttl'\n}\n\nconst getCertificateName = () => {\n  const s = \"certificate\" + new Date().toISOString()\n  return encodeURIComponent(s) + '.ttl'\n}\n\n/**\n * Create Marriage Proposal body (ttl)\n * @param {spouse: [], witness: []} marriageInfo required to contain a spouse field with an array of 2 webIds, and a witness field with an array of more than 1 webId\n */\nasync function createMarriagePropsalBody(proposalData, creatorId){\n  const quadList = [ quad(namedNode(''), namedNode(ns.rdf('type')), namedNode(ns.demo('MarriageProposal'))), \n                      quad(namedNode(''), namedNode(ns.dct('creator')), namedNode(creatorId)), \n                      quad(namedNode(''), namedNode(ns.demo('status')), namedNode(ns.demo('proposal'))),]\n  for (let spouse of proposalData.filter(e => e.type === 'spouse')) \n    quadList.push(quad(namedNode(''), namedNode(ns.dbo('spouse')), namedNode(spouse.webId)))\n  for (let witness of proposalData.filter(e => e.type === 'witness')) \n    quadList.push(quad(namedNode(''), namedNode(ns.demo('witness')), namedNode(witness.webId)))\n  return await quadListToTTL(quadList);\n}\n\nexport async function createMarriageProfilePatch(webId, proposalId){\n  return `INSERT { ${await quadListToTTL( [quad(namedNode(webId), namedNode(ns.demo('hasContract')), namedNode(proposalId))])} } `\n}\n\nexport async function deleteMarriageProfilePatch(webId, proposalId){\n  return `DELETE { ${await quadListToTTL( [quad(namedNode(webId), namedNode(ns.demo('hasContract')), namedNode(proposalId))])} } `\n}\n\nexport async function createMarriagePropsalNotification(creatorWebId, proposalId){\n  const quadList = [\n    quad(namedNode(''), namedNode(ns.as('summary')), literal(\"Invitation to participate in marriage contract.\")),\n    quad(namedNode(''), namedNode(ns.as('type')), namedNode(ns.as('Offer'))),\n    quad(namedNode(''), namedNode(ns.as('actor')), namedNode(creatorWebId)),\n    quad(namedNode(''), namedNode(ns.as('object')), namedNode(proposalId)),\n  ]\n  return await quadListToTTL(quadList);\n}\n\nexport async function addCertificationToProposal(proposalId, certificationId){\n  await updateMarriageContractStatus(proposalId, \"certified\")\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import React, {useState, useEffect} from 'react'\nimport useContracts from '../hooks/useContracts'\nimport { availableViews, getNotificationTypes } from '../util/Util'\nimport { Row, Col, Button } from 'react-bootstrap'\nimport ns from \"../util/NameSpaces\"\nimport useNotifications from '../hooks/useNotifications'\nimport { setProposalValidatedBy } from '../util/MarriageController'\n\n\n\nconst CertificatesViewerComponent = (props) => {\n\n  // Retrieve notifications\n\n  const notifications = useNotifications(props.webId)\n  const contracts = useContracts(props.webId)\n  const [certifiedContacts, setCertifiedContracts] = useState([])\n  console.log('notifications', notifications)\n\n  useEffect(() => {\n    let mounted = true;\n\n    // This function updates the present submissions in case of a notification indicating that a certificate has been created\n    const updateProposals = async (submittedContracts) => {\n      const certificationNotices = notifications.filter(notification => \n        notification.type === ns.as('Announce')\n        && notification.object \n        && notification.object.object\n        && notification.metadata.types.object.object === ns.demo('Certificate'))\n        \n      // TODO:: inblude if rejected, and move this more elaborate code to a separate controller.\n      for (let contract of submittedContracts){\n        const contractNotifications = certificationNotices.filter(n => n.object.target === contract.id)\n        if (contractNotifications.length > 0) {\n          const certificateId = contractNotifications[0].object.object\n          const contractId = contractNotifications[0].object.target\n          await setProposalValidatedBy(contractId, certificateId, \"accepted\")\n          contract.status = \"accepted\"\n          alreadyCertifiedContracts.push(contract)\n        }\n      }\n      setCertifiedContracts(alreadyCertifiedContracts)\n    }\n\n    const alreadyCertifiedContracts = contracts.filter(c => c.status === ns.demo('accepted')).concat(contracts.filter(c => c.status === ns.demo('rejected')))\n    const submittedContracts = contracts.filter(c => c.status === ns.demo('submitted'))\n    if (submittedContracts.length) { // check if submitted contract has been certified\n      updateProposals(submittedContracts)\n    } else {\n      setCertifiedContracts(alreadyCertifiedContracts)\n    }\n    return () => {\n      mounted = false;\n    }\n  }, [notifications, contracts])\n\n\n  async function showCertificateViewer(contractId) {\n    const view = availableViews.certificateview\n    view.args = {proposalId: contractId}\n    console.log('setting view', view)\n    props.setview(view)\n  }\n\n\n\n  return (\n    <div id=\"certificatesviewercomponent\" className='container'>\n      <h4> Certificates </h4>\n      <br />\n      <Row className='propertyview pageheader' key={'header'}>\n        <Col md={3}><label className=\"leftaligntext\"><b>Certificate type</b></label></Col>\n        <Col md={5}><label className=\"leftaligntext\">Available certificates</label></Col>\n        <Col md={3}><label className=\"centeraligntext\">Request certificate</label></Col>\n      </Row>\n\n      <Row className='propertyview' key={'Nationality'}>\n        <Col md={3}><label className=\"leftaligntext\"><b>Nationality</b></label></Col>\n        <Col md={5}><label className=\"leftaligntext\">No certificate available</label></Col>\n      </Row>\n      <Row className='propertyview' key={'Residence'}>\n        <Col md={3}><label className=\"leftaligntext\"><b>Residence</b></label></Col>\n        <Col md={5}><label className=\"leftaligntext\">No certificate available</label></Col>\n      </Row>\n      { certifiedContacts.length\n        ? \n          certifiedContacts.map(contract => {\n            return (\n              <Row className='propertyview' key={contract.id}>\n                <Col md={3}><label className=\"leftaligntext\"><b>Marriage</b></label></Col>\n                <Col md={5}><label className=\"leftaligntext\">Certificate availablee</label></Col>\n                <Col md={3}><Button onClick={(() => showCertificateViewer(contract.id))}>View certificate</Button></Col>\n              </Row>\n            )\n          })\n        :\n          <Row className='propertyview' key={'Residence'}>\n            <Col md={3}><label className=\"leftaligntext\"><b>Marriage</b></label></Col>\n            <Col md={5}><label className=\"leftaligntext\">No certificate available</label></Col>\n          </Row>\n      }     \n    </div>\n  )\n}\n\nexport default CertificatesViewerComponent\n\n// {contracts.map(contract => {\n//   return (  \n//     <Row className='propertyview' key={contract.id}>\n//       <Col md={3}><label className=\"leftaligntext\"><b>Marriage</b></label></Col>\n//       <Col md={5}><label className=\"leftaligntext\">certificate available</label></Col>\n//     </Row>\n//   )\n// })}","import { useState, useEffect } from 'react';\nimport { getPromiseValueOrUndefined } from '../util/Util'\n\nimport ns from \"../util/NameSpaces\"\n\nconst { default: data } = require('@solid/query-ldflex');\n\nconst useProfile = function(webId) {\n  const [profile, setProfile] = useState(null);\n  useEffect(() => {\n    let mounted = true\n    getProfile(webId).then(profile => {\n      if(profile) profile.webId = webId\n      if(mounted) setProfile(profile)\n    }).catch(\n      setProfile(null)\n    )\n    return () => {\n      mounted = false\n    }\n  }, [webId])  \n  return profile\n}\n\nexport async function getProfile(webId) {\n  webId = await webId;\n  if(!webId) return null\n  data.clearCache() // data.clearCache(webId)\n  let profiledata = data[webId];\n  \n  const name = await getPromiseValueOrUndefined(profiledata[ns.foaf('name')]);\n  const bdate = await getPromiseValueOrUndefined(profiledata[ns.dbo('birthDate')]);\n  const location = await getPromiseValueOrUndefined(profiledata[ns.dbo('location')]);\n  const cstatus = await getPromiseValueOrUndefined(profiledata[ns.demo('civilstatus')]);\n  \n  return { name, bdate, location, cstatus }\n}\n\nexport default useProfile","import React from 'react'\nimport ReactLoading from 'react-loading';\nimport '../css/VCardComponent.css'\n\nimport { Button, Row, Col } from 'react-bootstrap'\n\nimport useProfile from '../hooks/useProfile'\nimport { availableViews } from '../util/Util';\n\nconst UNKNOWNVALUE = 'Value not set'\n\nconst ProfileViewerComponent = (props) => {\n  const profile = useProfile(props.webId)\n\n  if (! profile){\n    return (\n      <div id=\"profileviewercomponent\" className='container'>\n        <h4> Profile </h4>\n        <br />\n        <ReactLoading type={\"cubes\"}/>\n      </div>\n    )\n  } \n\n  return (\n    <div id=\"profileviewercomponent\" className='container'>\n      <h4> Profile </h4>\n      <br />\n      {Object.keys(profileProps).map(property => {\n        return (\n          <Row className='propertyview ' key={property}>\n            <Col md={3}><label className=\"leftaligntext\"><b>{profileProps[property]}</b></label></Col>\n            <Col md={9}><label className=\"leftaligntext\">{profile[property] || UNKNOWNVALUE}</label></Col>\n          </Row>  \n        )\n      })}\n      <br />\n      <br />\n      <Button onClick={() => props.setview(availableViews.profileeditor)}>Edit</Button>\n    </div>\n  )\n}\n\nconst profileProps = {\n  name: \"Name\",\n  bdate: \"BirthDate\",\n  location: \"Country\",\n  cstatus: \"Civil Status\",\n}\n\nexport default ProfileViewerComponent\n","import React, {useEffect} from 'react'\nimport ReactLoading from 'react-loading';\nimport '../css/VCardComponent.css'\n\nimport { useForm, Controller } from 'react-hook-form'\nimport { patchFile } from '../util/FileUtil'\nimport { createDeleteInsertProfileDataQuery } from '../util/QueryUtil'\nimport { Select, MenuItem } from '@material-ui/core'\nimport { Button, Row, Col } from 'react-bootstrap'\n\nimport useProfile from '../hooks/useProfile'\nimport { availableViews } from '../util/Util';\n\n\nconst ProfileEditorComponent = (props) => {\n\n  const profile = useProfile(props.webId)\n\n  const { register, handleSubmit, control, reset } = useForm({ defaultValues: {} })\n\n  const onSubmit = async newprofile => {\n    patchFile(props.webId, await createDeleteInsertProfileDataQuery(props.webId, profile, newprofile))\n    props.setview(availableViews.profile)\n  }\n\n  useEffect(() => {\n    reset(profile)\n  }, [profile])\n\n  if (! profile){\n    return (\n      <div id=\"ProfileEditorComponent\" className='container'>\n        <h4> Profile </h4>\n        <br />\n        <ReactLoading type={\"cubes\"}/>\n      </div>\n    )\n  } \n\n  const properties = [{\n    label: 'Name',\n    name: 'name',\n    type: 'text',\n  }, {\n    label: 'BirthDate',\n    name: 'bdate',\n    type: 'date',\n  }, {\n    label: 'Country',\n    name: 'location',\n    type: 'text',\n  }, {\n    label: 'Civil Status',\n    name: 'cstatus',\n    controller: <Controller as={\n        <Select>\n          <MenuItem value={\"Single\"}>Single</MenuItem>\n          <MenuItem value={\"Cohabiting\"}>Cohabiting</MenuItem>\n          <MenuItem value={\"Married\"}>Married</MenuItem>\n          <MenuItem value={\"Divorced\"}>Divorced</MenuItem>\n          <MenuItem value={\"Widowed\"}>Widowed</MenuItem>\n        </Select>\n      }\n      control={control}\n      name=\"cstatus\"\n      defaultValue={\"Single\"}\n    />\n  }]\n\n  return (\n    <div id=\"ProfileEditorComponent\" className='container'>\n      <h4> Profile </h4>\n      <br />\n      <form onSubmit={handleSubmit(onSubmit)}>\n        {properties.map(prop => {\n          return(\n            <Row className='propertyview ' key={prop.name}>\n              <Col md={3}><label className=\"leftaligntext\"><b>{prop.label}</b></label></Col>\n              {prop.controller\n              ? <Col md={1}>{prop.controller}</Col>\n              : <Col md={9}><input type={prop.type || 'text'} className='leftaligntext inputfield' name={prop.name} ref={register({ required: true })} /></Col> \n              }\n            </Row>  \n          )\n        })}\n        <br/>\n        <br/>\n        <Button type=\"submit\">Submit</Button>\n      </form>\n    </div>\n  )\n}\n\nexport default ProfileEditorComponent\n\n// <h2>All friends</h2>\n// <List src=\"[https://ruben.verborgh.org/profile/#me].friends.firstName\"/>\n\n// @prefix dbo: <http://dbpedia.org/ontology/>. dbo:birthDate, dbo:birthPlace","import React, { useState, useEffect } from 'react'\n\nimport Input from '@material-ui/core/Input';\n\nimport useProfile from '../hooks/useProfile'\nimport styles from '../css/components/profilecard.module.css'\nimport { Col, Row } from 'react-bootstrap';\n\nconst ProfileCardComponent = (props) => {\n\n  const profile = useProfile(props.webId)\n  if(!profile || !profile.name) return(<div />);\n  return (\n    <div id=\"ProfileCardComponent\" className={styles.container}>\n      {profile && Object.keys(profileProps).map(property => {\n        return (\n          <Row className={`propertyview ${styles.profilecardrow}`} key={property}>\n            <Col sm={12} md={4}><label className=\"leftaligntext\"><b>{profileProps[property]}</b></label></Col>\n            {property === 'name'\n            ?<Col sm={12} md={8}><label className=\"leftaligntext\"><a href={props.webId}>{profile[property]}</a></label></Col>\n            :<Col sm={12} md={8}><label className=\"leftaligntext\">{profile[property]}</label></Col>}\n          </Row>\n        )\n      })}\n    </div>\n  )\n}\n\nconst profileProps = {\n  name: \"Name\",\n  bdate: \"BirthDate\",\n  location: \"Country\",\n  cstatus: \"Civil Status\",\n}\n\nexport default ProfileCardComponent\n","import React, { useState, useEffect } from 'react'\n\nimport Input from '@material-ui/core/Input';\n\nimport useProfile from '../hooks/useProfile'\nimport ProfileCardComponent from './ProfileCardComponent';\nimport { Row, Col } from 'react-bootstrap';\n\nconst ProfileCardSelectorComponent = (props) => {\n  const [webIdInput, setWebIdInput] = useState(props.person.webId)\n\n  const profile = useProfile(webIdInput)\n\n  const webIdChangeHandler = (event) => {\n    setWebIdInput(event.target.value)\n  }\n  useEffect(() => {\n    if (profile && isProfile(profile)) props.setvalue(profile.webId); \n  }, [profile])\n\n  const isComplete = (profile) => profile.name && profile.bdate && profile.location && profile.cstatus\n  const isProfile = (profile) => profile.name\n  const isOfAge = (profile) => profile.bdate && new Date(profile.bdate) && getAge(new Date(profile.bdate)) >= 18\n\n  function getAge(DOB) {\n    var today = new Date();\n    var birthDate = new Date(DOB);\n    var age = today.getFullYear() - birthDate.getFullYear();\n    var m = today.getMonth() - birthDate.getMonth();\n    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\n        age--;\n    }    \n    return age;\n  }\n\n  const warningStyle = {\n    color: 'red',\n  };\n\n  function getWarnings(profile) {\n    if(!profile || !isProfile(profile)) return webIdInput ? \"Please enter a valid webId\" : undefined\n    if (!isOfAge(profile) || !isComplete(profile))\n      return \"The chosen profile is not complete or is not 18 years or older. Please select a person that is 18 years or older.\"\n  }\n\n  const warnings = getWarnings(profile)\n\n  return (\n    <div id=\"ProfileCardSelectorComponent\">\n      <Row className='propertyview ' key={props.person.id}>\n        <Col md={3}><label className=\"leftaligntext\"><b>{props.person.label}</b></label></Col>\n        <Col md={9}><Input className=\"leftaligntext\" value={webIdInput || \"\"} name=\"location\" onChange={webIdChangeHandler}/></Col>\n      </Row>\n      {warnings && <b style={warningStyle}>{warnings}</b>}\n\n      <Row className='propertyview ' key={props.person.id}>\n        <Col md={3}></Col>\n        <Col md={9}><ProfileCardComponent webId={webIdInput} key={webIdInput}></ProfileCardComponent></Col>\n      </Row>\n    </div>\n  )\n}\n\nexport default ProfileCardSelectorComponent\n","import React, {useState, useEffect} from 'react'\nimport '../css/VCardComponent.css'\n\n// import { useForm, Controller } from 'react-hook-form'\nimport { Button, Row, Col } from 'react-bootstrap'\nimport ProfileCardSelectorComponent from './ProfileCardSelectorComponent'\nimport { createMarriagePropsalNotification } from '../util/QueryUtil'\nimport { Input } from '@material-ui/core'\nimport { createMarriageProposal } from '../util/MarriageController';\nimport { parseURL } from 'url-toolkit';\nimport { getProfile } from '../hooks/useProfile'\nimport { availableViews } from '../util/Util'\n\nconst MarriageRequestComponent = (props) => {\n\n  const parsedURI = parseURL(props.webId)\n  const [storageLocation, setStorageLocation] = useState(parsedURI.scheme + parsedURI.netLoc + '/public/')\n  const [state, setState] = useState([\n    {\n      label: \"Spouse\",\n      type: \"spouse\",\n      webId: props.webId,\n      id: 0,\n    },\n    {\n      label: \"Spouse\",\n      type: \"spouse\",\n      webId: \"\",\n      id: 1,\n    },\n    {\n      label: \"Witness\",\n      type: \"witness\",\n      webId: \"\",\n      id: 2,\n    }\n  ])\n\n  const handleSubmit = async event => {\n    if (!validateSubmission(state)) return;\n    const proposal = await createMarriageProposal(state, storageLocation, props.webId)\n    props.setview(availableViews.running)\n  }\n\n  const setvalue = (id, value) => {\n    const stateCopy = state.slice()\n    for (let obj of stateCopy) {\n      if (obj.id === id) {\n        obj.webId = value\n      }\n    }\n    setState(stateCopy)\n  }\n\n  const addWitness = () => {\n    const stateCopy = state.slice()  \n    stateCopy.push({\n        label: \"Witness\",\n        type: \"witness\",\n        webId: null,\n        id: state.length + 1,\n      })\n    setState(stateCopy)\n  } \n\n\n  const validateSubmission = async () => {\n    for (let person of state){\n      if (!person.webId) {\n        window.alert(person.webId + 'is not a valid webId');\n        return false\n      }\n      const profile = await getProfile(person.webId)\n      if (!profile.name || !profile.bdate || !profile.location || !profile.cstatus) {\n        window.alert(person.webId + 'does not have a valid profile');\n        return false\n      } \n\n      if (person.type === 'spouse' && profile.cstatus === \"Married\"){\n        window.alert('spouse ' + person.webId + ' is already married.');\n        return false\n      }\n    }\n    return true\n  }\n\n  const updateStorageLocation = (e) => {\n    setStorageLocation(e.target.value)\n  }\n\n  return (\n    <div id='MarriageRequestComponent' className='container'>\n      <h4>Construct Marriage Proposal</h4>\n      <br />\n      <Row className='propertyview pageheader' key={'header'}>\n        <Col md={3}><label className=\"leftaligntext\"><b>Function</b></label></Col>\n        <Col md={9}><label className=\"leftaligntext\">Person webId</label></Col>\n      </Row>\n      <form>\n        {state.map(person => {\n          return ( <ProfileCardSelectorComponent setvalue={(value) => setvalue(person.id, value)} person={person} key={person.id}></ProfileCardSelectorComponent> )\n        })}\n        <Button onClick={() => addWitness()}> Add Witness </Button>\n        <br/>\n        <br/>\n        <Row className='propertyview'>\n          <Col md={3}><label className='leftaligntext'>{\"Storage Location\"}</label></Col>\n          <Col md={9}><Input className='storageLocation leftaligntext' value={storageLocation} onChange={updateStorageLocation}/></Col>\n        </Row>\n        <Button onClick={() => handleSubmit()}>Submit</Button>\n      </form>\n    </div>\n  )\n}\n\nexport default MarriageRequestComponent\n","import React, { useState } from 'react'\nimport { Button, Col, Row } from 'react-bootstrap'\n\nimport MarriageRequestComponent from './MarriageRequestComponent'\nimport { availableViews } from '../util/Util'\n\nconst possibleRequests = [{\n  typelabel: 'Nationality',\n  summary: 'Request nationality',\n  action: 'Initiate procedure',\n  disabled:true,\n}, {\n  typelabel: 'Residence',\n  summary: 'Declare new residence',\n  action: 'Initiate procedure',\n  disabled:true,\n}, {\n  typelabel: 'Marriage',\n  summary: 'Request marriage',\n  action: 'Initiate procedure',\n  disabled:false,\n}]\n\nconst RequestsViewerComponent = (props) => {\n  return (\n    <div id=\"RequestsViewerComponent\" className='container'>\n      <h4> Requests </h4>\n      <br />\n      <Row className='propertyview pageheader' key={'header'}>\n        <Col md={3}><label className=\"leftaligntext\"><b>Certificate type</b></label></Col>\n        <Col md={5}><label className=\"leftaligntext\">Summary</label></Col>\n        <Col md={2}><label className=\"centeraligntext\">Create request</label></Col>\n      </Row>\n      {possibleRequests.map(request => {\n        return(\n          <Row className='propertyview' key={request.typelabel}>\n            <Col md={3}><label className=\"leftaligntext\"><b>{request.typelabel}</b></label></Col>\n            <Col md={5}><label className=\"leftaligntext\">{request.summary}</label></Col>\n            <Col md={2}><Button className='centeraligntext' onClick={() => props.setview(availableViews.marriagerequest)} disabled={request.disabled}>{request.action}</Button></Col>\n          </Row>\n        )\n      })}\n    </div>  \n  )\n}\n\nexport default RequestsViewerComponent\n","import React from 'react'\nimport { Row, Col, Button } from 'react-bootstrap'\nimport { availableViews } from '../util/Util';\n\nconst HelpComponent = (props) => {\n  return (\n    <div id=\"HelpComponent\" className='container leftaligntext'>\n      <h4 className='container centeraligntext'>How to get married with SOLID in 10 simple steps</h4>\n\n      \n      <Row>\n        <Col md={1}>{availableViews.login.icon}</Col>\n        <Col md={11}><h4>Preliminaries</h4></Col>\n      </Row>\n\n      <Row>\n        <Col md={1}></Col>\n        <Col md={11}>\n          <p>Before starting this demonstration for SOLID, you are expected to have created a SOLID pod.</p>\n          <p>In case you do not do not yet have a SOLID pod available, you can create a pod on <a href={'https://solid.community/register'}>solid community</a>.</p>\n          <p>(or using login button - choose provider - register account. But this should be explained with pictures)</p>\n        </Col>\n      </Row>\n     \n      <br />\n      \n      \n      <Row>\n        <Col md={1}>{availableViews.profile.icon}</Col>\n        <Col md={11}><h4>Step 1 - Complete user profile</h4></Col>\n      </Row>\n\n      <Row>\n        <Col md={1}></Col>\n        <Col md={11}>\n          <p>The first step of this demonstration is to fill out your profile information.</p>\n          <p>This ensures that subsequent steps in the demonstration can retrieve some information from your pod to show in the forms.</p>\n          <p>You can find (some of) your profile information in the profile tab on the left.</p>\n          <p>In this tab, you can edit your profile information by clicking the <Button>Edit</Button> button.</p>\n          <p>In the edit screen, you can fill in your profile information in the fields, and submit the using the <Button type=\"submit\">Submit</Button> button.</p>\n          <p>All fields are mandatory!</p>\n        </Col>\n      </Row>\n     \n      <br />\n\n      <Row>\n        <Col md={1}>{availableViews.requests.icon}</Col>\n        <Col md={11}><h4>Step 2 - Planning a Wedding</h4></Col>\n      </Row>\n\n      <Row>\n        <Col md={1}></Col>\n        <Col md={11}>\n          <p>Now that your profile information is filled in, you can start planning your wedding.</p>\n          <p>Tho initiate the marriage procedure, go to the Requests tab.</p>\n          <p>Here, the procedure can be initiated by clicking <Button>Initiate procedure</Button> for the Marriage certificate type</p>\n          <p>Now, you will find your information already filled out as one of the spouses.</p>\n          <p>A marriage requires two spouses to be given, as well as one or more witnesses.</p>\n          <p>If a valid webId is filled in, the profile of that person will be filled in automatically.</p>\n          <p>In case the given profile is incomplete, an error message will be shown. Please choose a different webId, or wait for the person to complete their profile.</p>\n          <p>If all necessary information is filled in, the proposal is ready to be submitted.</p>\n          <p>You can use the default storage location to store the created marriage proposal, or select a custom location (please make sure the selected location is valid).</p>\n          <p>Now, you can submit the marriage proposal using <Button>Submit</Button></p>\n        </Col>\n      </Row>\n     \n      <br />\n\n      <Row>\n        <Col md={1}>{availableViews.running.icon}</Col>\n        <Col md={11}><h4>Step 3 - Confirming requests</h4></Col>\n      </Row>\n\n      <Row>\n        <Col md={1}></Col>\n        <Col md={11}>\n          <p>On submission of a marriage proposal, all parties (spouses and witnesses) are notified of the created proposal.</p>\n          <p>These notifications can be found in the inbox of your data pod (the default location is at /inbox).</p>\n          TODO :: submissions folder - check notifications and add running proposal for marriage if notification of that.\n          TODO :: on accept / rejection - add to hasContracts !\n\n\n          <p>Now, you can see the marriage proposal, and all people involved in the proposal.</p>\n          <p>In this form, you will see a .</p>\n\n        </Col>\n      </Row>\n    \n      <br />\n\n\n\n\n      <h4>Step3: Awaiting confirmations</h4>\n      <p>\n      </p>\n      <br />\n\n\n      <h4>Step4: Submitting the wedding proposal</h4>\n      <p>\n      </p>\n      <br />\n\n      {availableViews.official.icon} <h4>Step5: Accepting / rejecting a marriage proposal</h4>\n      <p>\n      </p>\n      <br />\n\n      <h4>Preliminaries</h4>\n      <p>\n      </p>\n      <br />\n      \n\n\n\n      <div >\n        <p><b>TODOS</b></p>\n        <p>Complete help component</p>\n        <p>Button to resend notification on pending</p>\n        <p>Delete (read) notifications</p>\n        <p>Have notification actions fire on receive and not on looking at specific view</p>\n        <p>Highlight active component left bar</p>\n        <p>Make left bar subtractable</p>\n        <p>Finish implementation delete mariage proposal</p>\n        <p>Mark notifications as read</p>\n        <p>Highlight hovered notification</p>\n        <p>Encryption and signing for accepting invitation and for certificate</p>\n        <p>What to do with the official? Allow it to be anyone and give input field?</p>\n        <p>Update civil status on certification (of both spouses, possibly via a notification)</p>\n        <p>Make all contracts visible for all actors involved</p>\n        <p>Only load notifications that were not load last time</p>\n        <p>Is it okay to use this demo vocabulary?</p>\n        <p>What to do with default storage locations?</p>\n        <p>Use Solid file clients to recursively create folders if a specified storage location does not yet exist?</p>\n        <p>More error handling for missing data fields in files</p>\n        <p><b>If data not yet retrieved, dont show pending!</b></p>\n        <p>Unify internal naming scheme: proposal and certificate</p>\n        <p>Provide delete proposal for intermediary steps</p>\n        <p>JSDoc all functions</p>\n        <p>convert components to have logic for data retrieval somewhere else?</p>\n        <p>make profile edit screen more clear</p>\n      </div>\n      \n      \n    \n\n          set all created data to a specific name and provide delete button at the end to remove all demo data (except for name?) so that if people use their real data pod it wont get that messy?\n\n      SET LEFT BAR SELECTED ITEM HIGHLIGHT\n\n      set other key items in lists in case of duplicate subjects\n\n      code comments\n\n      convert large components - save additional logic in a controller file?\n\n      <br />\n      This screen will provide information on how the steps for this demo, and how they can be performed (with images preferably)\n      I also would like to make this not a single page app, so I can link people to the help page (or even make this the landing screen)\n      But I have not yet worked with the routing options for react, but that would be a nice to have\n      <br />\n    </div>\n    \n  )\n}\n\nexport default HelpComponent\n","import React, { useState, useEffect } from 'react'\nimport { Button, Row, Col } from 'react-bootstrap'\nimport styles from '../css/components/marriageview.module.css'\n\nimport ns from \"../util/NameSpaces\"\nimport ProfileCardComponent from './ProfileCardComponent'\nimport { acceptProposal, refuseProposal, deleteMarriageProposal, createMarriageContractSubmissionNotification, submitProposal } from '../util/MarriageController'\nimport { availableViews } from '../util/Util'\nconst { default: data } = require('@solid/query-ldflex');\n\nconst INVITATIONACCEPTED = ns.demo('accepted')\nconst INVITATIONREFUSED = ns.demo('refused')\n\n// TODO:: remove marriage button only for creator\n// TODO:: If spouse if 2 times the same person it will only show once (same for witnesses) because of ldflex => update this to use N3 in usecontracts?\n\n/**\n * \n * @param {spouse: {id: string}[], witness: {id: string}[]} props.contacts \n */\nconst MarriageViewComponent = (props) => {\n  let allcontacts = props.contract.spouse.map(e => { e.type='spouse'; return e})\n  allcontacts = allcontacts.concat(props.contract.witness.map(e => { e.type='witness'; return e}))\n  allcontacts = allcontacts.map(e => { e['status'] = e['status'] || 'pending' ; return e})\n  const [contacts, setContacts] = useState(allcontacts)\n\n  useEffect(() => {\n    let mounted = true\n    async function refreshContacts() {\n      updateContacts(allcontacts).then(updatedContacts => {\n        if(mounted) setContacts(updatedContacts)\n      })\n    }\n    refreshContacts()\n    var interval = setInterval(() => { \n      refreshContacts()\n    }, 7000);\n    return () => {\n      mounted = false;\n      clearInterval(interval);\n    }\n  }, [props.contract])\n\n  async function getContactStatus(contactWebId){\n    let accepted, refused; \n    data.clearCache() // data.clearCache(contactWebId)\n    for await (const acceptedEvent of data[contactWebId][INVITATIONACCEPTED]){\n      if (`${await acceptedEvent}` === props.contract.id) accepted = true;\n    }\n    for await (const refusedEvent of data[contactWebId][INVITATIONREFUSED]){\n      if (`${await refusedEvent}` === props.contract.id) refused = true;\n    }\n    return accepted ? 'accepted' : (refused ? 'refused' : 'pending')\n  }\n\n  async function updateContacts(contactsToUpdate) {\n    const contacts = []\n    for (let contact of contactsToUpdate){\n      contact['status'] = await getContactStatus(contact.id)\n      contacts.push(contact)\n    }\n    return contacts\n  }\n  \n  async function submitMarriageProposal() {\n    // For demo purposes outside of the workshop also, we will have the user function as the official also\n    const officialId = props.webId\n    const submission = await submitProposal(props.webId, props.contract.id, officialId)\n    props.setview(availableViews.official)\n  }\n\n  function isComplete() {\n    for (let contact of contacts) {\n      if (contact.status !== \"accepted\") return false\n    }\n    return true \n  }\n\n  async function accept() {\n    await acceptProposal(props.webId, props.contract.id, props.contract.creator)\n    resetView()\n  }\n\n  async function refuse() {\n    await acceptProposal(props.webId, props.contract.id, props.contract.creator)\n    resetView()\n  }\n\n  async function resetView() {\n    const updatedContacts = await updateContacts(contacts)\n    setContacts(updatedContacts)\n  }\n\n  function resend() {\n    //TODO:: include this\n    console.error('TODO')\n  }\n\n\n  function getContactButton(contact){\n    switch (contact.status) {\n      case 'pending':\n        if (contact.id === props.webId) return (\n            <div>\n              <Button className={`${styles.accept} centeraligntext`} onClick={() => accept()}> Accept </Button>\n              <Button className={`${styles.refuse} centeraligntext`} onClick={() => refuse()}> Refuse </Button>\n            </div>\n          )\n        else  return (\n          <div>\n            <Button className={`${styles.pending} centeraligntext`} onClick={() => resend()}>Resend notification</Button>\n          </div>\n        )\n    }\n    return(<div />)\n  }\n\n  function showContactStatus(contact){\n    switch (contact.status) {\n      case 'accepted':\n        return \"Accepted\"\n      case 'refused':\n        return \"Refused\"\n    }\n    return \"Pending\"\n  }\n\n  return (\n    <div id=\"marriageViewContainer\" className='container'>\n      <h4> Marriage Proposal </h4>\n      <br />\n      <Row className='propertyview pageheader' key={'header'}>\n        <Col md={2}><label className=\"leftaligntext\"><b>Function</b></label></Col>\n        <Col md={5}><label className=\"leftaligntext\">Person webId</label></Col>\n        <Col md={2}><label className=\"centeraligntext\">Status</label></Col>\n        <Col md={2}><label className=\"centeraligntext\">Action</label></Col>\n      </Row>\n      {contacts.map(contact => {\n        return (\n          <Row className='propertyview' key={contact.id}>\n            <Col md={2}><label className=\"leftaligntext\"><b>{contact.type}</b></label></Col>\n            <Col md={5}><ProfileCardComponent webId={contact.id} key={contact.id} /></Col>\n            <Col md={2}>{showContactStatus(contact)}</Col>\n            <Col md={2}>{getContactButton(contact)}</Col>\n          </Row>\n        )})}\n        <br />\n        <br />\n        <br />\n        { props.contract.creator === props.webId\n          ? isComplete()\n            ? <Row>\n                <Col md={6} />\n                <Col md={3}>\n                  <Button className={`${styles.accept} valuebutton`} onClick={() => submitMarriageProposal(props.contract.id, props.webId)}> Submit Marriage Proposal </Button> \n                </Col>\n                <Col md={3}>\n                  <Button className={`${styles.delete} valuebutton`} onClick={() => deleteMarriageProposal()}> Delete Marriage Proposal </Button>\n                </Col>\n              </Row>\n            : <Row>\n                <Col md={9} />\n                <Col md={3}>\n                  <Button className={`${styles.delete} valuebutton`} onClick={() => deleteMarriageProposal(props.contract.id, props.webId)}> Delete Marriage Proposal </Button>\n                </Col>\n              </Row>\n          : <Row />\n        }\n    </div>\n  )\n}\nexport default MarriageViewComponent","import React, { useState, useEffect } from 'react'\nimport useNotifications from '../hooks/useNotifications'\nimport ns from '../util/NameSpaces'\nimport { Col, Row, Button } from 'react-bootstrap'\nimport { getContractData, availableViews } from '../util/Util'\n\nconst { default: data } = require('@solid/query-ldflex');\n\nconst OfficialComponent = (props) => {\n\n  const notifications = useNotifications(props.webId)\n  const [submissions, setSubmissions] = useState([])\n\n  useEffect(() => {\n    let mounted = true;\n    async function filterSubmissions() {\n      const submissions = notifications.filter(notification => \n        notification.type === ns.as('Announce')\n        && notification.object \n        && notification.object.object\n        && notification.metadata.types.object.object === ns.demo('MarriageProposal'))\n    \n      const certifiedProposals = await filterCertifiedSubmissions(submissions)\n      if (mounted) setSubmissions(submissions.filter(s => s.object && certifiedProposals.indexOf(s.object.object) === -1 && certifiedProposals.indexOf(s.object.target) === -1))\n    }\n\n    async function filterCertifiedSubmissions(submissions) {\n      const certifiedProposals = []\n      for await (const certifiedProposalId of data[props.webId][ns.demo('certified')]) {\n        if (mounted && `${certifiedProposalId}`) certifiedProposals.push(`${certifiedProposalId}`)\n      }\n      return certifiedProposals\n    }\n    \n    filterSubmissions();\n    \n    return () => {\n      mounted = false;\n    }\n    \n  }, [notifications])\n\n\n  const viewsubmission = async (submissionContractId) => {\n    const contract = await getContractData(submissionContractId)\n    const view = availableViews.submissionview\n    view.args = {contract: contract}\n    props.setview(view)\n  }\n\n  return (\n    <div className=\"container\">\n    <h4>Certification Requests</h4>\n    <br />\n    <Row className='propertyview pageheader' key={'header'}>\n      <Col md={3}><label className=\"leftaligntext\"><b>Submission type</b></label></Col>\n      <Col md={5}><label className=\"leftaligntext\">Current status</label></Col>\n      <Col md={2}><label className=\"centeraligntext\">Action</label></Col>\n    </Row>\n    {submissions.map(submission => {\n      return (\n        <Row className='propertyview ' key={submission.object}>\n          <Col md={3}><label className=\"leftaligntext\"><b>marriage proposal</b></label></Col>\n          <Col md={5}><label className=\"leftaligntext\">submitted for review</label></Col>\n          <Col md={2}><Button onClick={() => viewsubmission(submission.object.object)} className='centeraligntext'>Evaluate</Button></Col>\n        </Row>\n      )\n    })}\n\n    </div>\n    )\n \n}\n\nexport default OfficialComponent","import React from 'react';\nimport '../css/LoginComponent.css';\n\nimport { LoginButton } from '@solid/react';\n\nfunction LoginComponent() {\n  return (\n    <div className=\"logincomponent\">\n      <div className=\"center\">\n        <LoginButton className=\"loginButton\" popup=\"https://solid.community/common/popup.html\">Login</LoginButton>\n      </div>\n    </div>\n  );\n}\n\nexport default LoginComponent;\n","import React, { useState, useEffect } from 'react'\nimport { Button, Row, Col } from 'react-bootstrap'\nimport styles from '../css/components/marriageview.module.css'\n\nimport ns from \"../util/NameSpaces\"\nimport ProfileCardComponent from './ProfileCardComponent'\nimport { acceptProposal, refuseProposal, deleteMarriageProposal, createMarriageContractSubmissionNotification, submitProposal, certifyProposal, rejectProposal } from '../util/MarriageController'\nimport { availableViews } from '../util/Util'\nimport { parseURL } from 'url-toolkit'\nconst { default: data } = require('@solid/query-ldflex');\n\nconst INVITATIONACCEPTED = ns.demo('accepted')\nconst INVITATIONREFUSED = ns.demo('refused')\n\n// TODO:: remove marriage button only for creator\n// TODO:: If spouse if 2 times the same person it will only show once (same for witnesses) because of ldflex => update this to use N3 in usecontracts?\n\n/**\n * \n * @param {spouse: {id: string}[], witness: {id: string}[]} props.contacts \n */\nconst SubmissionViewComponent = (props) => {\n  let allcontacts = props.contract.spouse.map(e => { e.type='spouse'; return e})\n  allcontacts = allcontacts.concat(props.contract.witness.map(e => { e.type='witness'; return e}))\n  allcontacts = allcontacts.map(e => { e['status'] = e['status'] || 'pending' ; return e})\n  const [contacts, setContacts] = useState(allcontacts)\n\n  const parsedURI = parseURL(props.webId)\n  const storageLocation = parsedURI.scheme + parsedURI.netLoc + '/public/'\n\n  useEffect(() => {\n    let mounted = true\n    async function refreshContacts() {\n      updateContacts(allcontacts).then(updatedContacts => {\n        if(mounted) setContacts(updatedContacts)\n      })\n    }\n    refreshContacts();\n    return () => {\n      mounted = false;\n    }\n  }, [props.contract])\n\n  async function getContactStatus(contactWebId){\n    let accepted, refused; \n    data.clearCache() // data.clearCache(contactWebId)\n    for await (const acceptedEvent of data[contactWebId][INVITATIONACCEPTED]){\n      if (`${await acceptedEvent}` === props.contract.id) accepted = true;\n    }\n    for await (const refusedEvent of data[contactWebId][INVITATIONREFUSED]){\n      if (`${await refusedEvent}` === props.contract.id) refused = true;\n    }\n    return accepted ? 'accepted' : (refused ? 'refused' : 'pending')\n  }\n\n  async function updateContacts(contactsToUpdate) {\n    const contacts = []\n    for (let contact of contactsToUpdate){\n      contact['status'] = await getContactStatus(contact.id)\n      contacts.push(contact)\n    }\n    return contacts\n  }\n\n  function showContactStatus(contact){\n    switch (contact.status) {\n      case 'accepted':\n        return \"Accepted\"\n      case 'refused':\n        return \"Refused\"\n    }\n    return \"Pending\"\n  }\n\n\n  function isComplete() {\n    for (let contact of contacts) {\n      if (contact.status !== \"accepted\") return false\n    }\n    return true \n  }\n\n  function accept() {\n    certifyProposal(props.webId, props.contract.id, storageLocation)\n    props.setview(availableViews.certificates)\n  }\n\n  function reject() {\n    // Todo:: set as certified so additional requests are not shown as needed to be validated\n    rejectProposal(props.webId, props.contract.id, storageLocation)\n    props.setview(availableViews.certificates)\n  }\n\n  return (\n    <div id=\"marriageViewContainer\" className='container'>\n      <h4> Submission </h4>\n      <br />\n      <Row className='propertyview pageheader' key={'header'}>\n        <Col md={2}><label className=\"leftaligntext\"><b>Function</b></label></Col>\n        <Col md={6}><label className=\"leftaligntext\">Person webId</label></Col>\n        <Col md={2}><label className=\"centeraligntext\">Status</label></Col>\n      </Row>\n      {contacts.map(contact => {\n        return (\n          <Row className='propertyview' key={contact.id}>\n            <Col md={2}><label className=\"leftaligntext\"><b>{contact.type}</b></label></Col>\n            <Col md={6}><ProfileCardComponent webId={contact.id} key={contact.id} /></Col>\n            <Col md={2}>{showContactStatus(contact)}</Col>\n          </Row>\n        )})}\n        <br />\n        <br />\n        <br />\n        { props.contract.creator === props.webId\n          ? isComplete()\n            ? <Row>\n                <Col md={2} />\n                <Col md={3}>\n                  <Button className={`${styles.accept} valuebutton`} onClick={() => accept()}> Certify Marriage </Button> \n                </Col>\n                <Col md={4}>\n                  <Button className={`${styles.delete} valuebutton`} onClick={() => reject()}> Reject Proposal </Button>\n                </Col>\n              </Row>\n            : <Row>\n                <Col md={5} />\n                <Col md={4}>\n                  <Button className={`${styles.delete} valuebutton`} onClick={() => reject()}> Reject Proposal </Button>\n                </Col>\n              </Row>\n          : <Row />\n        }\n    </div>\n  )\n}\nexport default SubmissionViewComponent","\n// const PDFDocument = require('@react-pdf/pdfkit');\nimport PDFDocument from '@react-pdf/pdfkit'\n\nconst blobStream = require('blob-stream');\n\nconst { default: data } = require('@solid/query-ldflex');\n \n\nexport async function generateCertificatePDF (proposal, certificate) {\n\n  const getPersonData = async (id) => { return ( {id: id, name: await data[id].name} ) }\n\n  console.log('proposal', proposal)\n  console.log(proposal.spouse)\n  console.log(proposal.witness)\n  console.log('certificate', certificate)\n  console.log(certificate.certified_by)\n\n  const spouses = await Promise.all(proposal.spouse.map(async (e) => await getPersonData(e)))\n  const witnesses = await Promise.all(proposal.witness.map(async (e) => await getPersonData(e)))\n  if(spouses.length !== 2 && spouses.length !== 1) throw new Error('incorrect number of spouses')\n  const official = await getPersonData(certificate.certified_by)\n  const weddingDate = certificate.certification_date\n\n  // Create a document\n  const doc = new PDFDocument();\n  // pipe the document to a blob\n  const stream = doc.pipe(blobStream());\n\n  // doc.image('../assets/background2.png', 0,0, {width: doc.page.width, height: doc.page.height})\n\n  \n  // doc.font('../assets/PalatinoBold.ttf')\n\n  console.log('DOC', doc)\n\n  doc.fontSize(40);\n  doc\n    .text(`Marriage Certificate`, {\n      align: 'center',\n    });\n\n\n  doc.moveDown(1.5)\n\n\n  doc.fontSize(20);\n  doc\n  .text(`This document certifies the marriage between`, { });\n\n  doc.moveDown(2)\n\n  doc.fontSize(20);\n  doc.text(`both`, {\n    indent: 0,\n  });\n  doc.moveUp()\n  doc.text(`${spouses[0].name}`, {\n    indent: 75,\n    link: spouses[0].id,\n  });\n\n\n  doc.text(`and`, {\n    indent: 0,\n  });\n  doc.moveUp()\n  doc.text(`${spouses[1] ? spouses[1].name : spouses[0].name}`, {\n    indent: 75,\n    link: spouses[1] ? spouses[1].id : spouses[0].id,\n  });\n\n\n  doc.moveDown(1.3)\n\n\n  doc.text(`on ${weddingDate.toDateString()} at ${weddingDate.toLocaleTimeString()}`, { });\n\n  doc.moveDown(1)\n\n  doc.text(`by ${official.name}`, {\n    link: official.id\n  });\n\n  // doc.text(`with the function of ${certifiedPerson.fct}`, {\n  //   link: certifiedPerson.webid\n  // });\n  // doc.moveDown(1)\n\n  // doc.text(`at ${weddingLocation}`, { });\n\n  doc.moveDown(2)\n  doc.text(`Witnessed by`, {});\n\n  doc.moveDown(1)\n  \n  for (const witness of witnesses) {\n    doc.text(`${witness.name}`, {\n      indent: 75,\n      link: witness.id,\n    });\n    doc.moveDown(0.5)\n  }\n\n  doc.end();\n\n\n  stream.on('finish', function() {\n    // get a blob you can do whatever you like with\n    const blob = stream.toBlob('application/pdf');\n  \n    // or get a blob URL for display in the browser\n    const url = stream.toBlobURL('application/pdf');\n    // iframe.src = url\n    console.log(url)\n    window.open(url)\n  });\n\n}\n\n\n// // require dependencies\n// const PDFDocument = require('pdfkit');\n \n// // create a document the same way as above\n// const doc = new PDFDocument();\n \n// // pipe the document to a blob\n// const stream = doc.pipe(blobStream());\n \n// // add your content to the document here, as usual\n \n// // get a blob when you're done\n// doc.end();\n// stream.on('finish', function() {\n//   // get a blob you can do whatever you like with\n//   const blob = stream.toBlob('application/pdf');\n \n//   // or get a blob URL for display in the browser\n//   const url = stream.toBlobURL('application/pdf');\n//   iframe.src = url;\n// });","import React, { useState, useEffect } from 'react'\nimport { getContractData, getCertificateData } from '../util/Util'\nimport { Row, Col, Button } from 'react-bootstrap'\nimport ProfileCardComponent from './ProfileCardComponent'\nimport { generateCertificatePDF } from '../util/generatepdf'\n\n\n// @prefix dbo: <http://dbpedia.org/ontology/>. dbo:birthDate, dbo:birthPlace\nconst CertificateViewComponent = (props) => {\n\n  const [state, setstate] = useState({})\n\n  useEffect(() => {\n    let mounted = true\n    async function fetchData(){\n      const proposal = await getContractData(props.proposalId);\n      const certificate = await getCertificateData(proposal.certified_by);\n      setstate({ proposal, certificate })\n    }\n    fetchData()\n    return () => {\n      mounted = false\n    }\n  }, [])\n\n  console.log('STATE', state)\n\n  if (!state.proposal || !state.certificate) {\n    return (\n      <div id=\"marriageViewContainer\" className='container' />\n    )\n  }\n  return (\n    <div id=\"marriageViewContainer\" className='container'>\n      <h4> Marriage Certificate </h4>\n      <br />\n      <Row className='propertyview pageheader'>\n        <Col md={5}></Col>\n        <Col md={2}><label className=\"leftaligntext\"><a href={state.proposal.id}><b>Proposal</b></a></label></Col>\n      </Row>\n      {state.proposal.spouse.map(spouse => {\n        return(\n          <Row className='propertyview' key={'spouse' + spouse.id}>\n            <Col md={2}><label className=\"leftaligntext\"><b>Spouse</b></label></Col>\n            <Col md={10}><ProfileCardComponent webId={spouse.id}></ProfileCardComponent></Col>\n          </Row>\n        )\n      })}\n      {state.proposal.witness.map(witness => { \n        return(\n          <Row className='propertyview' key={'witness' + witness.id}>\n            <Col md={2}><label className=\"leftaligntext\"><b>Witness</b></label></Col>\n            <Col md={10}><ProfileCardComponent webId={witness.id}></ProfileCardComponent></Col>\n          </Row>\n        )\n      })}\n\n      <Row className='propertyview pageheader'>\n        <Col md={5}></Col>\n        <Col md={2}><label className=\"leftaligntext\"><a href={state.certificate.id}><b>Certificate</b></a></label></Col>\n      </Row>\n      <Row className='propertyview' key={'certified_by'}>\n        <Col md={2}><label className=\"leftaligntext\"><b>Certified by</b></label></Col>\n        <Col md={10}><label className=\"leftaligntext\">{state.certificate.certified_by}</label></Col>\n      </Row>\n      <Row className='propertyview' key={'certification_date'}>\n        <Col md={2}><label className=\"leftaligntext\"><b>Certified on</b></label></Col>\n        <Col md={10}><label className=\"leftaligntext\">{new Date(state.certificate.certification_date).toLocaleString()}</label></Col>\n      </Row>\n      <Row>\n        <Col md={4}></Col>\n        <Col md={4}><Button onClick={() => generateCertificatePDF(state.proposal, state.certificate)} disabled>Get PDF</Button></Col>\n      </Row>\n    </div>\n  )\n}\n\nexport default CertificateViewComponent\n","import React from 'react'\nimport * as N3 from 'n3'\nimport NotificationsViewerComponent from '../Components/NotificationsViewerComponent'\nimport InProgressViewerComponent from '../Components/InProgressViewerComponent'\nimport CertificatesViewerComponent from '../Components/CertificatesViewerComponent'\nimport ProfileViewerComponent from '../Components/ProfileViewerComponent'\nimport ProfileEditorComponent from '../Components/ProfileEditorComponent'\nimport RequestsViewerComponent from '../Components/RequestsViewerComponent'\nimport HelpComponent from '../Components/HelpComponent'\nimport MarriageRequestComponent from '../Components/MarriageRequestComponent'\nimport MarriageViewComponent from '../Components/MarriageViewComponent'\nimport OfficialComponent from '../Components/OfficialComponent'\nimport LoginComponent from '../Components/LoginComponent'\nimport { getFile } from './FileUtil'\n\nimport PersonIcon from '@material-ui/icons/Person';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport HelpIcon from '@material-ui/icons/Help';\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\nimport CardMembershipIcon from '@material-ui/icons/CardMembership';\nimport ListIcon from '@material-ui/icons/List';\nimport GavelIcon from '@material-ui/icons/Gavel';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\n\nimport ns from \"../util/NameSpaces\"\nimport SubmissionViewComponent from '../Components/SubmissionViewComponent'\nimport CertificateViewComponent from '../Components/CertificateViewComponent'\nconst { default: data } = require('@solid/query-ldflex');\n\n\n\nexport async function getPromiseValueOrUndefined (promise){\n  try { return await promise.value }\n  catch { return undefined }\n}\n\nexport const availableViews = {\n  login:          {id:\"login\",            label:'Login',            generation:(props) => <LoginComponent {...props} ></LoginComponent>, icon: <ExitToAppIcon />},\n  profile:        {id:\"profile\",          label:'Profile',          generation:(props) => <ProfileViewerComponent {...props} ></ProfileViewerComponent>, icon: <PersonIcon />},\n  profileeditor:  {id:\"profileedit\",      label:'Profile Editor',   generation:(props) => <ProfileEditorComponent {...props} ></ProfileEditorComponent>, icon: <HelpIcon />},\n  requests:       {id:\"requests\",         label:'Requests',         generation:(props) => <RequestsViewerComponent {...props}></RequestsViewerComponent>, icon: <InsertDriveFileIcon />},\n  marriagerequest: {id:\"marriagerequest\", label:'Marriage request', generation:(props) => <MarriageRequestComponent {...props}></MarriageRequestComponent>, icon: <HelpIcon />},\n  marriageview:   {id:\"marriageview\",     label:'Marriage view',    generation:(props) => <MarriageViewComponent {...props}></MarriageViewComponent>, icon: <HelpIcon />},\n  running:        {id:\"running\",          label:'In progress',      generation:(props) => <InProgressViewerComponent {...props}></InProgressViewerComponent>, icon: <ListIcon />},\n  certificates:   {id:\"certificates\",     label:'Certificates',     generation:(props) => <CertificatesViewerComponent {...props}></CertificatesViewerComponent>, icon: <CardMembershipIcon />},\n  notifications:  {id:\"notifications\",    label:'Notifications',    generation:(props) => <NotificationsViewerComponent {...props}></NotificationsViewerComponent>, icon: <NotificationsIcon />},\n  help:           {id:\"help\",             label:'Help',             generation:(props) => <HelpComponent {...props}></HelpComponent>, icon: <HelpIcon />},\n  official:       {id:\"official\",         label:'Offical',          generation:(props) => <OfficialComponent {...props}></OfficialComponent>, icon: <GavelIcon />},\n  submissionview: {id:\"submissionview\",   label:'Submission view',  generation:(props) => <SubmissionViewComponent {...props}></SubmissionViewComponent>, icon: <HelpIcon />},\n  certificateview:{id:\"certificateview\",  label:'Certificate view', generation:(props) => <CertificateViewComponent {...props}></CertificateViewComponent>, icon: <HelpIcon />},\n}\n\nexport const activeDrawerItemMapping = {\n  profile:          \"profile\",\n  profileeditor:    \"profile\",\n  requests:         \"requests\",\n  marriagerequest:  \"requests\",\n  running:          \"running\",\n  marriageview:     \"running\",\n  certificates:     \"certificates\",\n  certificateview:  \"certificates\",\n  official:         \"official\",\n  submissionview:   \"official\",\n  notifications:    \"notifications\",\n  help:             \"help\",\n}\n\nexport async function getStore(URI){\n  const response = await getFile(URI)\n  const code = await response\n  const responseData = await response.text()\n  const store = new N3.Store()\n  store.addQuads(await new N3.Parser({ baseIRI: URI}).parse(responseData))\n  return store\n}\n\nconst getQuadObjVal = quads => quads[0] && (quads[0].object.value || quads[0].object.id)\n\nconst getQuadObjList = quads => quads && quads.map(quad => quad.object.value || quad.object.id)\n\n\nexport async function getContractData(id) {\n  const datastore = await getStore(id);\n  return datastore && {\n    id: id,\n    creator: getQuadObjVal(await datastore.getQuads(id, ns.dct('creator'))),\n    certified_by: getQuadObjVal(await datastore.getQuads(id, ns.demo('certified_by'))),\n    status: getQuadObjVal(await datastore.getQuads(id, ns.demo('status'))),\n    spouse: getQuadObjList(await datastore.getQuads(id, ns.dbo('spouse'))).map(e => {return({id: e})}),\n    witness: getQuadObjList(await datastore.getQuads(id, ns.demo('witness'))).map(e => {return({id: e})}),\n  }\n  // const contract = {id: id, completed: false, spouse: [], witness: []}\n  // contract.creator = `${await data[id][ns.dct('creator')]}`\n  // contract.certifiedBy = `${await data[id][ns.demo('certified_by')]}`\n  // contract.status = `${await data[id][ns.demo('status')]}`\n  // for await (const spouseId of data[id][ns.dbo('spouse')]){\n  //   contract.spouse.push({id: spouseId.value})\n  // }\n  // for await (const witnessId of data[id][ns.demo('witness')]){\n  //   contract.witness.push({id: witnessId.value})\n  // }\n  // return contract\n}\n\nexport async function getCertificateData(id) {\n  const datastore = await getStore(id);\n  return datastore && {\n    id: id,\n    certifies: getQuadObjVal(await datastore.getQuads(id, ns.demo('certifies'))),\n    certified_by: getQuadObjVal(await datastore.getQuads(id, ns.demo('certified_by'))),\n    certification_date: getQuadObjVal(await datastore.getQuads(id, ns.demo('certification_date'))),\n    comment: getQuadObjVal(await datastore.getQuads(id, ns.rdfs('comment'))),\n  }\n}\n\n/**\n * \n * @param \n * { <> a <http://semicdemo.example/Certificate> ;\n  <http://semicdemo.example/certifies> <https://alice.localhost:8443/public/marriageproposal2020-09-29T10%3A19%3A15.988Z.ttl> ;\n  <http://semicdemo.example/certified_by> <https://alice.localhost:8443/profile/card#me> ;\n  <http://semicdemo.example/certification_date> \"2020-09-29T10:19:25.838Z\"^^<http://www.w3.org/2001/XMLSchema#dateTime> ;\n  <http://www.w3.org/2000/01/rdf-schema#comment> \"This is a certificate for the Marriage proposal https://alice.localhost:8443/public/marriageproposal2020-09-29T10%3A19%3A15.988Z.ttl by https://alice.localhost:8443/profile/card#me\" .\n} activity \n */\n\nexport async function getNotificationTypes(activity){\n  const types = {}\n  for (const property of ['actor', 'object', 'target']){\n    if(activity[property]){\n      if (typeof(activity[property]) === 'string') {\n        types[property] = `${await data[activity[property]].type}`\n      } else if (typeof(activity[property]) === 'object') {\n        types[property] = await getNotificationTypes(activity[property])\n      }\n    }\n  }\n  return types\n}\n","import React, { useState } from 'react'\nimport ReactLoading from 'react-loading';\n\nimport '../css/MainScreenComponent.css'\n\nconst viewsWithoutWebId = ['help', 'login']\n\nconst MainScreenComponent = (props) => {\n\n  const [view, setview] = useState(props.selectedView)\n\n  if (!view || view.id !== props.selectedView.id) {\n    setview(props.selectedView)\n  }\n\n  const args = { webId: props.webId, setview: props.setSelectedView }\n  for (let prop in view.args || []){\n    args[prop] = view.args[prop]\n  }\n\n  const showLoadingOrView = (view) => {\n    if (viewsWithoutWebId.indexOf(view.id) !== -1) {\n      return view.generation(args)\n    }\n    return <ReactLoading type={\"cubes\"}/> \n\n  }\n\n  return (\n    <div id=\"mainscreencontainer\" className='container'>\n      { props.webId ? view.generation(args) : showLoadingOrView(view) }\n    </div>\n  )\n}\n\nexport default MainScreenComponent\n","import React, { useState } from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { availableViews, activeDrawerItemMapping } from '../util/Util';\nimport useNotifications from '../hooks/useNotifications';\nimport { withWebId } from '@inrupt/solid-react-components';\nimport MainScreenComponent from './MainScreenComponent';\nimport { Navbar } from 'react-bootstrap';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Badge from '@material-ui/core/Badge';\nimport { LogoutButton } from '@solid/react';\n\nimport '../css/Drawer.css'\n\n\nimport solidlogo from '../assets/solid-emblem.svg';\nimport idlablogo from '../assets/idlab.png';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: 'nowrap',\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerClose: {\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: 'hidden',\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9) + 1,\n    },\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n}));\n\nconst MiniDrawer = withWebId((props) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(true);\n\n  const [selectedView, setSelectedView] = useState(availableViews[props.defaultview] || availableViews.help)\n  const notifications = useNotifications(props.webId)\n\n\n  const isActive = (item) => {\n    console.log('active', activeDrawerItemMapping.item)\n    console.log('isActive?', item, selectedView)\n  }\n\n  const getSidebarComponent = (itemName) => { \n    if (itemName === 'divider') return (<Divider />)\n    if (itemName === 'br') return (<br />)\n    const item = availableViews[itemName]\n    return (\n      <ListItem button={true} className={isActive(item) ? 'active' : 'nonactive'} button key={itemName} onClick={ () => setSelectedView(item)}>\n        <ListItemIcon>{item.icon}</ListItemIcon>\n        <ListItemText primary={item.label} />\n      </ListItem>\n    )\n  }\n\n  const getTopBarComponent = (itemName, index) => {\n    const item = availableViews[itemName]\n    const className = index === 0 ? 'topmenuitem topmenuitemleft' : 'topmenuitem'\n    return (\n      <MenuItem className={className} onClick={() => setSelectedView(item)} >\n        <IconButton aria-label={item.label} color=\"inherit\">\n          {itemName === 'notifications' \n            ? <Badge badgeContent={notifications.length} color=\"secondary\">\n                {item.icon}\n              </Badge>\n            : item.icon \n          }\n        </IconButton>\n      </MenuItem>\n    )\n  }\n\n  const sideBarItems = props.sideBarItems || ['profile', 'requests', 'running', 'certificates', 'divider', 'br', 'divider', 'official']\n  const sidebarComponents = sideBarItems.map(e => getSidebarComponent(e))\n\n  const topBarItems = props.topBarItems || ['notifications', 'help']\n  const topbarComponents = topBarItems.map((e, index) => getTopBarComponent(e, index))\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open,\n        })}\n      >\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            className={clsx(classes.menuButton, {\n              [classes.hide]: open,\n            })}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap>\n            SEMIC - solid demo\n          </Typography>\n\n\n          <Navbar.Brand href=\"https://solidproject.org/\">\n            <img\n              alt=\"\"\n              width='50px'\n              src={solidlogo}\n            />{' '}\n          </Navbar.Brand>\n\n          <Navbar.Brand href=\"https://www.ugent.be/ea/idlab/en\">\n            <img\n              alt=\"\"\n              src={idlablogo}\n              height=\"40px\"\n            />{' '}\n          </Navbar.Brand>\n\n          {topbarComponents}\n          {props.hidelogout \n            ? <div />\n            : <MenuItem className='topmenuitem'>\n                <LogoutButton className=\"logoutButton\"/>\n              </MenuItem>}\n\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        variant=\"permanent\"\n        className={`${clsx(classes.drawer, {\n          [classes.drawerOpen]: open,\n          [classes.drawerClose]: !open,\n        })} sidebar`}\n        classes={{\n          paper: clsx({\n            [classes.drawerOpen]: open,\n            [classes.drawerClose]: !open,\n          }),\n        }}\n      >\n        <Toolbar className={`${classes.toolbar} toolbarcolor`}>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === 'rtl' ? <ChevronRightIcon /> : <ChevronLeftIcon />}\n          </IconButton>\n        </Toolbar>\n        <Divider />\n        <div className='sidebarcontent'>\n          <List>\n            {sidebarComponents}\n          </List>\n          <Divider />\n        </div>\n      </Drawer>\n      <main className={classes.content}>\n        <Toolbar />\n        <MainScreenComponent webId={props.webId} selectedView={selectedView} setSelectedView ={setSelectedView} ></MainScreenComponent>\n      </main>\n    </div>\n  );\n})\n\nexport default MiniDrawer\n","import React from 'react'\nimport './App.css'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport { LoggedIn, LoggedOut } from '@solid/react'\nimport MiniDrawer from './Components/MiniDrawer'\nfunction App () {\n  return (\n    <div className=\"App\">\n      <LoggedIn>\n        <MiniDrawer defaultview='help'></MiniDrawer>\n      </LoggedIn>\n      <LoggedOut>\n        <MiniDrawer defaultview='login' sideBarItems={['login', 'help']} topBarItems={['help']} hidelogout={true}></MiniDrawer>\n      </LoggedOut>\n    </div>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}